{"mappings":"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","sources":["node_modules/@gitgraph/js/lib/gitgraph.umd.js","node_modules/query-string/index.js","node_modules/strict-uri-encode/index.js","node_modules/decode-uri-component/index.js","node_modules/split-on-first/index.js","node_modules/filter-obj/index.js","node_modules/scrollbooster/src/index.js","src/index.ts"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory(global.GitgraphJS = {}));\n}(this, function (exports) { 'use strict';\n\n\tvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\tfunction commonjsRequire () {\n\t\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n\t}\n\n\tfunction unwrapExports (x) {\n\t\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n\t}\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tfunction getCjsExportFromNamespace (n) {\n\t\treturn n && n['default'] || n;\n\t}\n\n\tvar commonjsHelpers = /*#__PURE__*/Object.freeze({\n\t\tcommonjsGlobal: commonjsGlobal,\n\t\tcommonjsRequire: commonjsRequire,\n\t\tunwrapExports: unwrapExports,\n\t\tcreateCommonjsModule: createCommonjsModule,\n\t\tgetCjsExportFromNamespace: getCjsExportFromNamespace\n\t});\n\n\tvar orientation = createCommonjsModule(function (module, exports) {\n\t// Extracted from `gitgraph.ts` because it caused `utils` tests to fail\n\t// because of circular dependency between `utils` and `template`.\n\t// It's not clear why (the circular dependency still exist) but `Orientation`\n\t// was the only one causing issue. Maybe because it's an enum?\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar Orientation;\n\t(function (Orientation) {\n\t    Orientation[\"VerticalReverse\"] = \"vertical-reverse\";\n\t    Orientation[\"Horizontal\"] = \"horizontal\";\n\t    Orientation[\"HorizontalReverse\"] = \"horizontal-reverse\";\n\t})(Orientation = exports.Orientation || (exports.Orientation = {}));\n\n\t});\n\n\tunwrapExports(orientation);\n\tvar orientation_1 = orientation.Orientation;\n\n\tvar utils = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\t/**\n\t * Provide a default value to a boolean.\n\t * @param value\n\t * @param defaultValue\n\t */\n\tfunction booleanOptionOr(value, defaultValue) {\n\t    return typeof value === \"boolean\" ? value : defaultValue;\n\t}\n\texports.booleanOptionOr = booleanOptionOr;\n\t/**\n\t * Provide a default value to a number.\n\t * @param value\n\t * @param defaultValue\n\t */\n\tfunction numberOptionOr(value, defaultValue) {\n\t    return typeof value === \"number\" ? value : defaultValue;\n\t}\n\texports.numberOptionOr = numberOptionOr;\n\t/**\n\t * Creates an object composed of the picked object properties.\n\t * @param obj The source object\n\t * @param paths The property paths to pick\n\t */\n\tfunction pick(obj, paths) {\n\t    return Object.assign({}, paths.reduce((mem, key) => (Object.assign({}, mem, { [key]: obj[key] })), {}));\n\t}\n\texports.pick = pick;\n\t/**\n\t * Print a light version of commits into the console.\n\t * @param commits List of commits\n\t * @param paths The property paths to pick\n\t */\n\tfunction debug(commits, paths) {\n\t    // tslint:disable-next-line:no-console\n\t    console.log(JSON.stringify(commits.map((commit) => pick(commit, paths)), null, 2));\n\t}\n\texports.debug = debug;\n\t/**\n\t * Return true if is undefined.\n\t *\n\t * @param obj\n\t */\n\tfunction isUndefined(obj) {\n\t    return obj === undefined;\n\t}\n\texports.isUndefined = isUndefined;\n\t/**\n\t * Return a version of the object without any undefined keys.\n\t *\n\t * @param obj\n\t */\n\tfunction withoutUndefinedKeys(obj = {}) {\n\t    return Object.keys(obj).reduce((mem, key) => isUndefined(obj[key]) ? mem : Object.assign({}, mem, { [key]: obj[key] }), {});\n\t}\n\texports.withoutUndefinedKeys = withoutUndefinedKeys;\n\t/**\n\t * Return a string ready to use in `svg.path.d` to draw an arrow from params.\n\t *\n\t * @param graph Graph context\n\t * @param parent Parent commit of the target commit\n\t * @param commit Target commit\n\t */\n\tfunction arrowSvgPath(graph, parent, commit) {\n\t    const commitRadius = commit.style.dot.size;\n\t    const size = graph.template.arrow.size;\n\t    const h = commitRadius + graph.template.arrow.offset;\n\t    // Delta between left & right (radian)\n\t    const delta = Math.PI / 7;\n\t    // Alpha angle between parent & commit (radian)\n\t    const alpha = getAlpha(graph, parent, commit);\n\t    // Top\n\t    const x1 = h * Math.cos(alpha);\n\t    const y1 = h * Math.sin(alpha);\n\t    // Bottom right\n\t    const x2 = (h + size) * Math.cos(alpha - delta);\n\t    const y2 = (h + size) * Math.sin(alpha - delta);\n\t    // Bottom center\n\t    const x3 = (h + size / 2) * Math.cos(alpha);\n\t    const y3 = (h + size / 2) * Math.sin(alpha);\n\t    // Bottom left\n\t    const x4 = (h + size) * Math.cos(alpha + delta);\n\t    const y4 = (h + size) * Math.sin(alpha + delta);\n\t    return `M${x1},${y1} L${x2},${y2} Q${x3},${y3} ${x4},${y4} L${x4},${y4}`;\n\t}\n\texports.arrowSvgPath = arrowSvgPath;\n\tfunction getAlpha(graph, parent, commit) {\n\t    const deltaX = parent.x - commit.x;\n\t    const deltaY = parent.y - commit.y;\n\t    const commitSpacing = graph.template.commit.spacing;\n\t    let alphaY;\n\t    let alphaX;\n\t    // Angle usually start from previous commit Y position:\n\t    //\n\t    // o\n\t    // ↑ ↖ ︎\n\t    // o  |  <-- path is straight until last commit Y position\n\t    // ↑  o\n\t    // | ↗︎\n\t    // o\n\t    //\n\t    // So we can to default to commit spacing.\n\t    // For horizontal orientation => same with commit X position.\n\t    switch (graph.orientation) {\n\t        case orientation.Orientation.Horizontal:\n\t            alphaY = deltaY;\n\t            alphaX = -commitSpacing;\n\t            break;\n\t        case orientation.Orientation.HorizontalReverse:\n\t            alphaY = deltaY;\n\t            alphaX = commitSpacing;\n\t            break;\n\t        case orientation.Orientation.VerticalReverse:\n\t            alphaY = -commitSpacing;\n\t            alphaX = deltaX;\n\t            break;\n\t        default:\n\t            alphaY = commitSpacing;\n\t            alphaX = deltaX;\n\t            break;\n\t    }\n\t    // If commit is distant from its parent, there should be no angle.\n\t    //\n\t    //    o ︎\n\t    //    ↑  <-- arrow is like previous commit was on same X position\n\t    // o  |\n\t    // | /\n\t    // o\n\t    //\n\t    // For horizontal orientation => same with commit Y position.\n\t    if (graph.isVertical) {\n\t        if (Math.abs(deltaY) > commitSpacing)\n\t            alphaX = 0;\n\t    }\n\t    else {\n\t        if (Math.abs(deltaX) > commitSpacing)\n\t            alphaY = 0;\n\t    }\n\t    if (graph.reverseArrow) {\n\t        alphaY *= -1;\n\t        alphaX *= -1;\n\t    }\n\t    return Math.atan2(alphaY, alphaX);\n\t}\n\n\t});\n\n\tunwrapExports(utils);\n\tvar utils_1 = utils.booleanOptionOr;\n\tvar utils_2 = utils.numberOptionOr;\n\tvar utils_3 = utils.pick;\n\tvar utils_4 = utils.debug;\n\tvar utils_5 = utils.isUndefined;\n\tvar utils_6 = utils.withoutUndefinedKeys;\n\tvar utils_7 = utils.arrowSvgPath;\n\n\tvar template = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\t/**\n\t * Branch merge style enum\n\t */\n\tvar MergeStyle;\n\t(function (MergeStyle) {\n\t    MergeStyle[\"Bezier\"] = \"bezier\";\n\t    MergeStyle[\"Straight\"] = \"straight\";\n\t})(MergeStyle || (MergeStyle = {}));\n\texports.MergeStyle = MergeStyle;\n\texports.DEFAULT_FONT = \"normal 12pt Calibri\";\n\t/**\n\t * Gitgraph template\n\t *\n\t * Set of design rules for the rendering.\n\t */\n\tclass Template {\n\t    constructor(options) {\n\t        // Options\n\t        options.branch = options.branch || {};\n\t        options.branch.label = options.branch.label || {};\n\t        options.arrow = options.arrow || {};\n\t        options.commit = options.commit || {};\n\t        options.commit.dot = options.commit.dot || {};\n\t        options.commit.message = options.commit.message || {};\n\t        // One color per column\n\t        this.colors = options.colors || [\"#000000\"];\n\t        // Branch style\n\t        this.branch = {\n\t            color: options.branch.color,\n\t            lineWidth: options.branch.lineWidth || 2,\n\t            mergeStyle: options.branch.mergeStyle || MergeStyle.Bezier,\n\t            spacing: utils.numberOptionOr(options.branch.spacing, 20),\n\t            label: {\n\t                display: utils.booleanOptionOr(options.branch.label.display, true),\n\t                color: options.branch.label.color || options.commit.color,\n\t                strokeColor: options.branch.label.strokeColor || options.commit.color,\n\t                bgColor: options.branch.label.bgColor || \"white\",\n\t                font: options.branch.label.font ||\n\t                    options.commit.message.font ||\n\t                    exports.DEFAULT_FONT,\n\t                borderRadius: utils.numberOptionOr(options.branch.label.borderRadius, 10),\n\t            },\n\t        };\n\t        // Arrow style\n\t        this.arrow = {\n\t            size: options.arrow.size || null,\n\t            color: options.arrow.color || null,\n\t            offset: options.arrow.offset || 2,\n\t        };\n\t        // Commit style\n\t        this.commit = {\n\t            color: options.commit.color,\n\t            spacing: utils.numberOptionOr(options.commit.spacing, 25),\n\t            hasTooltipInCompactMode: utils.booleanOptionOr(options.commit.hasTooltipInCompactMode, true),\n\t            dot: {\n\t                color: options.commit.dot.color || options.commit.color,\n\t                size: options.commit.dot.size || 3,\n\t                strokeWidth: utils.numberOptionOr(options.commit.dot.strokeWidth, 0),\n\t                strokeColor: options.commit.dot.strokeColor,\n\t                font: options.commit.dot.font ||\n\t                    options.commit.message.font ||\n\t                    \"normal 10pt Calibri\",\n\t            },\n\t            message: {\n\t                display: utils.booleanOptionOr(options.commit.message.display, true),\n\t                displayAuthor: utils.booleanOptionOr(options.commit.message.displayAuthor, true),\n\t                displayHash: utils.booleanOptionOr(options.commit.message.displayHash, true),\n\t                color: options.commit.message.color || options.commit.color,\n\t                font: options.commit.message.font || exports.DEFAULT_FONT,\n\t            },\n\t        };\n\t        // Tag style\n\t        // This one is computed in the Tag instance. It needs Commit style\n\t        // that is partially computed at runtime (for colors).\n\t        this.tag = options.tag || {};\n\t    }\n\t}\n\texports.Template = Template;\n\t/**\n\t * Black arrow template\n\t */\n\tconst blackArrowTemplate = new Template({\n\t    colors: [\"#6963FF\", \"#47E8D4\", \"#6BDB52\", \"#E84BA5\", \"#FFA657\"],\n\t    branch: {\n\t        color: \"#000000\",\n\t        lineWidth: 4,\n\t        spacing: 50,\n\t        mergeStyle: MergeStyle.Straight,\n\t    },\n\t    commit: {\n\t        spacing: 60,\n\t        dot: {\n\t            size: 16,\n\t            strokeColor: \"#000000\",\n\t            strokeWidth: 4,\n\t        },\n\t        message: {\n\t            color: \"black\",\n\t        },\n\t    },\n\t    arrow: {\n\t        size: 16,\n\t        offset: -1.5,\n\t    },\n\t});\n\texports.blackArrowTemplate = blackArrowTemplate;\n\t/**\n\t * Metro template\n\t */\n\tconst metroTemplate = new Template({\n\t    colors: [\"#979797\", \"#008fb5\", \"#f1c109\"],\n\t    branch: {\n\t        lineWidth: 10,\n\t        spacing: 50,\n\t    },\n\t    commit: {\n\t        spacing: 80,\n\t        dot: {\n\t            size: 14,\n\t        },\n\t        message: {\n\t            font: \"normal 14pt Arial\",\n\t        },\n\t    },\n\t});\n\texports.metroTemplate = metroTemplate;\n\tvar TemplateName;\n\t(function (TemplateName) {\n\t    TemplateName[\"Metro\"] = \"metro\";\n\t    TemplateName[\"BlackArrow\"] = \"blackarrow\";\n\t})(TemplateName || (TemplateName = {}));\n\texports.TemplateName = TemplateName;\n\t/**\n\t * Extend an existing template with new options.\n\t *\n\t * @param selectedTemplate Template to extend\n\t * @param options Template options\n\t */\n\tfunction templateExtend(selectedTemplate, options) {\n\t    const template = getTemplate(selectedTemplate);\n\t    if (!options.branch)\n\t        options.branch = {};\n\t    if (!options.commit)\n\t        options.commit = {};\n\t    // This is tedious, but it seems acceptable so we don't need lodash\n\t    // as we want to keep bundlesize small.\n\t    return {\n\t        colors: options.colors || template.colors,\n\t        arrow: Object.assign({}, template.arrow, options.arrow),\n\t        branch: Object.assign({}, template.branch, options.branch, { label: Object.assign({}, template.branch.label, options.branch.label) }),\n\t        commit: Object.assign({}, template.commit, options.commit, { dot: Object.assign({}, template.commit.dot, options.commit.dot), message: Object.assign({}, template.commit.message, options.commit.message) }),\n\t        tag: Object.assign({}, template.tag, options.tag),\n\t    };\n\t}\n\texports.templateExtend = templateExtend;\n\t/**\n\t * Resolve the template to use regarding given `template` value.\n\t *\n\t * @param template Selected template name, or instance.\n\t */\n\tfunction getTemplate(template) {\n\t    if (!template)\n\t        return metroTemplate;\n\t    if (typeof template === \"string\") {\n\t        return {\n\t            [TemplateName.BlackArrow]: blackArrowTemplate,\n\t            [TemplateName.Metro]: metroTemplate,\n\t        }[template];\n\t    }\n\t    return template;\n\t}\n\texports.getTemplate = getTemplate;\n\n\t});\n\n\tunwrapExports(template);\n\tvar template_1 = template.MergeStyle;\n\tvar template_2 = template.DEFAULT_FONT;\n\tvar template_3 = template.Template;\n\tvar template_4 = template.blackArrowTemplate;\n\tvar template_5 = template.metroTemplate;\n\tvar template_6 = template.TemplateName;\n\tvar template_7 = template.templateExtend;\n\tvar template_8 = template.getTemplate;\n\n\tvar tag = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n\tclass Tag {\n\t    constructor(name, style, render, commitStyle) {\n\t        this.name = name;\n\t        this.tagStyle = style;\n\t        this.commitStyle = commitStyle;\n\t        this.render = render;\n\t    }\n\t    /**\n\t     * Style\n\t     */\n\t    get style() {\n\t        return {\n\t            strokeColor: this.tagStyle.strokeColor || this.commitStyle.color,\n\t            bgColor: this.tagStyle.bgColor || this.commitStyle.color,\n\t            color: this.tagStyle.color || \"white\",\n\t            font: this.tagStyle.font || this.commitStyle.message.font || template.DEFAULT_FONT,\n\t            borderRadius: utils.numberOptionOr(this.tagStyle.borderRadius, 10),\n\t            pointerWidth: utils.numberOptionOr(this.tagStyle.pointerWidth, 12),\n\t        };\n\t    }\n\t}\n\texports.Tag = Tag;\n\n\t});\n\n\tunwrapExports(tag);\n\tvar tag_1 = tag.Tag;\n\n\tvar commit = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\t/**\n\t * Generate a random hash.\n\t *\n\t * @return hex string with 40 chars\n\t */\n\tconst getRandomHash = () => (Math.random().toString(16).substring(3) +\n\t    Math.random().toString(16).substring(3) +\n\t    Math.random().toString(16).substring(3) +\n\t    Math.random().toString(16).substring(3)).substring(0, 40);\n\tclass Commit {\n\t    constructor(options) {\n\t        /**\n\t         * Ref names\n\t         */\n\t        this.refs = [];\n\t        /**\n\t         * Commit x position\n\t         */\n\t        this.x = 0;\n\t        /**\n\t         * Commit y position\n\t         */\n\t        this.y = 0;\n\t        // Set author & committer\n\t        let name, email;\n\t        try {\n\t            [, name, email] = options.author.match(/(.*) <(.*)>/);\n\t        }\n\t        catch (e) {\n\t            [name, email] = [options.author, \"\"];\n\t        }\n\t        this.author = { name, email, timestamp: Date.now() };\n\t        this.committer = { name, email, timestamp: Date.now() };\n\t        // Set commit message\n\t        this.subject = options.subject;\n\t        this.body = options.body || \"\";\n\t        // Set commit hash\n\t        this.hash = options.hash || getRandomHash();\n\t        this.hashAbbrev = this.hash.substring(0, 7);\n\t        // Set parent hash\n\t        this.parents = options.parents ? options.parents : [];\n\t        this.parentsAbbrev = this.parents.map((commit) => commit.substring(0, 7));\n\t        // Set style\n\t        this.style = Object.assign({}, options.style, { message: Object.assign({}, options.style.message), dot: Object.assign({}, options.style.dot) });\n\t        this.dotText = options.dotText;\n\t        // Set callbacks\n\t        this.onClick = () => (options.onClick ? options.onClick(this) : undefined);\n\t        this.onMessageClick = () => options.onMessageClick ? options.onMessageClick(this) : undefined;\n\t        this.onMouseOver = () => options.onMouseOver ? options.onMouseOver(this) : undefined;\n\t        this.onMouseOut = () => options.onMouseOut ? options.onMouseOut(this) : undefined;\n\t        // Set custom renders\n\t        this.renderDot = options.renderDot;\n\t        this.renderMessage = options.renderMessage;\n\t        this.renderTooltip = options.renderTooltip;\n\t    }\n\t    /**\n\t     * Message\n\t     */\n\t    get message() {\n\t        let message = \"\";\n\t        if (this.style.message.displayHash) {\n\t            message += `${this.hashAbbrev} `;\n\t        }\n\t        message += this.subject;\n\t        if (this.style.message.displayAuthor) {\n\t            message += ` - ${this.author.name} <${this.author.email}>`;\n\t        }\n\t        return message;\n\t    }\n\t    /**\n\t     * Branch that should be rendered\n\t     */\n\t    get branchToDisplay() {\n\t        return this.branches ? this.branches[0] : \"\";\n\t    }\n\t    setRefs(refs) {\n\t        this.refs = refs.getNames(this.hash);\n\t        return this;\n\t    }\n\t    setTags(tags, getTagStyle, getTagRender) {\n\t        this.tags = tags\n\t            .getNames(this.hash)\n\t            .map((name) => new tag.Tag(name, getTagStyle(name), getTagRender(name), this.style));\n\t        return this;\n\t    }\n\t    setBranches(branches) {\n\t        this.branches = branches;\n\t        return this;\n\t    }\n\t    setPosition({ x, y }) {\n\t        this.x = x;\n\t        this.y = y;\n\t        return this;\n\t    }\n\t    withDefaultColor(color) {\n\t        const newStyle = Object.assign({}, this.style, { dot: Object.assign({}, this.style.dot), message: Object.assign({}, this.style.message) });\n\t        if (!newStyle.color)\n\t            newStyle.color = color;\n\t        if (!newStyle.dot.color)\n\t            newStyle.dot.color = color;\n\t        if (!newStyle.message.color)\n\t            newStyle.message.color = color;\n\t        const commit = this.cloneCommit();\n\t        commit.style = newStyle;\n\t        return commit;\n\t    }\n\t    /**\n\t     * Ideally, we want Commit to be a [Value Object](https://martinfowler.com/bliki/ValueObject.html).\n\t     * We started with a mutable class. So we'll refactor that little by little.\n\t     * This private function is a helper to create a new Commit from existing one.\n\t     */\n\t    cloneCommit() {\n\t        const commit = new Commit({\n\t            author: `${this.author.name} <${this.author.email}>`,\n\t            subject: this.subject,\n\t            style: this.style,\n\t            body: this.body,\n\t            hash: this.hash,\n\t            parents: this.parents,\n\t            dotText: this.dotText,\n\t            onClick: this.onClick,\n\t            onMessageClick: this.onMessageClick,\n\t            onMouseOver: this.onMouseOver,\n\t            onMouseOut: this.onMouseOut,\n\t            renderDot: this.renderDot,\n\t            renderMessage: this.renderMessage,\n\t            renderTooltip: this.renderTooltip,\n\t        });\n\t        commit.refs = this.refs;\n\t        commit.branches = this.branches;\n\t        commit.tags = this.tags;\n\t        commit.x = this.x;\n\t        commit.y = this.y;\n\t        return commit;\n\t    }\n\t}\n\texports.Commit = Commit;\n\n\t});\n\n\tunwrapExports(commit);\n\tvar commit_1 = commit.Commit;\n\n\tvar branchUserApi = createCommonjsModule(function (module, exports) {\n\tvar __rest = (commonjsGlobal && commonjsGlobal.__rest) || function (s, e) {\n\t    var t = {};\n\t    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n\t        t[p] = s[p];\n\t    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n\t        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n\t            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n\t                t[p[i]] = s[p[i]];\n\t        }\n\t    return t;\n\t};\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n\n\tclass BranchUserApi {\n\t    // tslint:enable:variable-name\n\t    constructor(branch, graph, onGraphUpdate) {\n\t        this._branch = branch;\n\t        this.name = branch.name;\n\t        this._graph = graph;\n\t        this._onGraphUpdate = onGraphUpdate;\n\t    }\n\t    branch(args) {\n\t        if (this._branch.isDeleted() && !this._isReferenced()) {\n\t            throw new Error(`Cannot branch from the deleted branch \"${this.name}\"`);\n\t        }\n\t        const options = typeof args === \"string\" ? { name: args } : args;\n\t        options.from = this;\n\t        return this._graph.createBranch(options).getUserApi();\n\t    }\n\t    commit(options) {\n\t        if (this._branch.isDeleted() && !this._isReferenced()) {\n\t            throw new Error(`Cannot commit on the deleted branch \"${this.name}\"`);\n\t        }\n\t        // Deal with shorter syntax\n\t        if (typeof options === \"string\")\n\t            options = { subject: options };\n\t        if (!options)\n\t            options = {};\n\t        this._commitWithParents(options, []);\n\t        this._onGraphUpdate();\n\t        return this;\n\t    }\n\t    /**\n\t     * Delete the branch (as `git branch -d`)\n\t     */\n\t    delete() {\n\t        // Delete all references to the branch from the graph (graph.branches and graph.refs)\n\t        // and from the commits (commit.refs). Then, make the branch instance a deleted branch.\n\t        // Like in git, the commits and tags in the deleted branch remain in the graph\n\t        if (this._graph.refs.getCommit(\"HEAD\") ===\n\t            this._graph.refs.getCommit(this.name)) {\n\t            throw new Error(`Cannot delete the checked out branch \"${this.name}\"`);\n\t        }\n\t        const branchCommits = (function* (graph, branch) {\n\t            const lookupCommit = (graph, commitHash) => {\n\t                return graph.commits.find(({ hash }) => hash === commitHash);\n\t            };\n\t            let currentCommit = lookupCommit(graph, graph.refs.getCommit(branch.name));\n\t            while (currentCommit && currentCommit.hash !== branch.parentCommitHash) {\n\t                yield currentCommit;\n\t                currentCommit = lookupCommit(graph, currentCommit.parents[0]);\n\t            }\n\t            return;\n\t        })(this._graph, this._branch);\n\t        [...branchCommits].forEach((commit) => {\n\t            commit.refs = commit.refs.filter((branchName) => branchName !== this.name);\n\t        });\n\t        this._graph.refs.delete(this.name);\n\t        this._graph.branches.delete(this.name);\n\t        this._branch = branch.createDeletedBranch(this._graph, this._branch.style, () => {\n\t            // do nothing\n\t        });\n\t        this._onGraphUpdate();\n\t        return this;\n\t    }\n\t    merge(...args) {\n\t        if (this._branch.isDeleted() && !this._isReferenced()) {\n\t            throw new Error(`Cannot merge to the deleted branch \"${this.name}\"`);\n\t        }\n\t        let options = args[0];\n\t        if (!isBranchMergeOptions(options)) {\n\t            options = {\n\t                branch: args[0],\n\t                fastForward: false,\n\t                commitOptions: { subject: args[1] },\n\t            };\n\t        }\n\t        const { branch, fastForward, commitOptions, } = options;\n\t        const branchName = typeof branch === \"string\" ? branch : branch.name;\n\t        const branchLastCommitHash = this._graph.refs.getCommit(branchName);\n\t        if (!branchLastCommitHash) {\n\t            throw new Error(`The branch called \"${branchName}\" is unknown`);\n\t        }\n\t        let canFastForward = false;\n\t        if (fastForward) {\n\t            const lastCommitHash = this._graph.refs.getCommit(this._branch.name);\n\t            if (lastCommitHash) {\n\t                canFastForward = this._areCommitsConnected(lastCommitHash, branchLastCommitHash);\n\t            }\n\t        }\n\t        if (fastForward && canFastForward) {\n\t            this._fastForwardTo(branchLastCommitHash);\n\t        }\n\t        else {\n\t            this._commitWithParents(Object.assign({}, commitOptions, { subject: (commitOptions && commitOptions.subject) ||\n\t                    `Merge branch ${branchName}` }), [branchLastCommitHash]);\n\t        }\n\t        this._onGraphUpdate();\n\t        return this;\n\t    }\n\t    tag(options) {\n\t        if (this._branch.isDeleted() && !this._isReferenced()) {\n\t            throw new Error(`Cannot tag on the deleted branch \"${this.name}\"`);\n\t        }\n\t        if (typeof options === \"string\") {\n\t            this._graph.getUserApi().tag({ name: options, ref: this._branch.name });\n\t        }\n\t        else {\n\t            this._graph.getUserApi().tag(Object.assign({}, options, { ref: this._branch.name }));\n\t        }\n\t        return this;\n\t    }\n\t    /**\n\t     * Checkout onto this branch and update \"HEAD\" in refs\n\t     */\n\t    checkout() {\n\t        if (this._branch.isDeleted() && !this._isReferenced()) {\n\t            throw new Error(`Cannot checkout the deleted branch \"${this.name}\"`);\n\t        }\n\t        const target = this._branch;\n\t        const headCommit = this._graph.refs.getCommit(target.name);\n\t        this._graph.currentBranch = target;\n\t        // Update \"HEAD\" in refs when the target branch is not empty\n\t        if (headCommit) {\n\t            this._graph.refs.set(\"HEAD\", headCommit);\n\t        }\n\t        return this;\n\t    }\n\t    // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n\t    _commitWithParents(options, parents) {\n\t        const parentOnSameBranch = this._graph.refs.getCommit(this._branch.name);\n\t        if (parentOnSameBranch) {\n\t            parents.unshift(parentOnSameBranch);\n\t        }\n\t        else if (this._branch.parentCommitHash) {\n\t            parents.unshift(this._branch.parentCommitHash);\n\t        }\n\t        const { tag } = options, commitOptions = __rest(options, [\"tag\"]);\n\t        const commit$1 = new commit.Commit(Object.assign({ hash: this._graph.generateCommitHash(), author: this._branch.commitDefaultOptions.author || this._graph.author, subject: this._branch.commitDefaultOptions.subject ||\n\t                this._graph.commitMessage }, commitOptions, { parents, style: this._getCommitStyle(options.style) }));\n\t        if (parentOnSameBranch) {\n\t            // Take all the refs from the parent\n\t            const parentRefs = this._graph.refs.getNames(parentOnSameBranch);\n\t            parentRefs.forEach((ref) => this._graph.refs.set(ref, commit$1.hash));\n\t        }\n\t        else {\n\t            // Set the branch ref\n\t            this._graph.refs.set(this._branch.name, commit$1.hash);\n\t        }\n\t        // Add the new commit\n\t        this._graph.commits.push(commit$1);\n\t        // Move HEAD on the last commit\n\t        this.checkout();\n\t        // Add a tag to the commit if `option.tag` is provide\n\t        if (tag)\n\t            this.tag(tag);\n\t    }\n\t    _areCommitsConnected(parentCommitHash, childCommitHash) {\n\t        const childCommit = this._graph.commits.find(({ hash }) => childCommitHash === hash);\n\t        if (!childCommit)\n\t            return false;\n\t        const isFirstCommitOfGraph = childCommit.parents.length === 0;\n\t        if (isFirstCommitOfGraph)\n\t            return false;\n\t        if (childCommit.parents.includes(parentCommitHash)) {\n\t            return true;\n\t        }\n\t        // `childCommitHash` is not a direct child of `parentCommitHash`.\n\t        // But maybe one of `childCommitHash` parent is.\n\t        return childCommit.parents.some((directParentHash) => this._areCommitsConnected(parentCommitHash, directParentHash));\n\t    }\n\t    _fastForwardTo(commitHash) {\n\t        this._graph.refs.set(this._branch.name, commitHash);\n\t    }\n\t    _getCommitStyle(style = {}) {\n\t        return Object.assign({}, utils.withoutUndefinedKeys(this._graph.template.commit), utils.withoutUndefinedKeys(this._branch.commitDefaultOptions.style), style, { message: Object.assign({}, utils.withoutUndefinedKeys(this._graph.template.commit.message), utils.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.message), style.message, utils.withoutUndefinedKeys({\n\t                display: this._graph.shouldDisplayCommitMessage && undefined,\n\t            })), dot: Object.assign({}, utils.withoutUndefinedKeys(this._graph.template.commit.dot), utils.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.dot), style.dot) });\n\t    }\n\t    _isReferenced() {\n\t        return (this._graph.branches.has(this.name) ||\n\t            this._graph.refs.hasName(this.name) ||\n\t            this._graph.commits\n\t                .reduce((allNames, { refs }) => [...allNames, ...refs], [])\n\t                .includes(this.name));\n\t    }\n\t}\n\texports.BranchUserApi = BranchUserApi;\n\tfunction isBranchMergeOptions(options) {\n\t    return typeof options === \"object\" && !(options instanceof BranchUserApi);\n\t}\n\n\t});\n\n\tunwrapExports(branchUserApi);\n\tvar branchUserApi_1 = branchUserApi.BranchUserApi;\n\n\tvar branch = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\tconst DELETED_BRANCH_NAME = \"\";\n\texports.DELETED_BRANCH_NAME = DELETED_BRANCH_NAME;\n\tclass Branch {\n\t    constructor(options) {\n\t        this.gitgraph = options.gitgraph;\n\t        this.name = options.name;\n\t        this.style = options.style;\n\t        this.parentCommitHash = options.parentCommitHash;\n\t        this.commitDefaultOptions = options.commitDefaultOptions || { style: {} };\n\t        this.onGraphUpdate = options.onGraphUpdate;\n\t        this.renderLabel = options.renderLabel;\n\t    }\n\t    /**\n\t     * Return the API to manipulate Gitgraph branch as a user.\n\t     */\n\t    getUserApi() {\n\t        return new branchUserApi.BranchUserApi(this, this.gitgraph, this.onGraphUpdate);\n\t    }\n\t    /**\n\t     * Return true if branch was deleted.\n\t     */\n\t    isDeleted() {\n\t        return this.name === DELETED_BRANCH_NAME;\n\t    }\n\t}\n\texports.Branch = Branch;\n\tfunction createDeletedBranch(gitgraph, style, onGraphUpdate) {\n\t    return new Branch({\n\t        name: DELETED_BRANCH_NAME,\n\t        gitgraph,\n\t        style,\n\t        onGraphUpdate,\n\t    });\n\t}\n\texports.createDeletedBranch = createDeletedBranch;\n\n\t});\n\n\tunwrapExports(branch);\n\tvar branch_1 = branch.DELETED_BRANCH_NAME;\n\tvar branch_2 = branch.Branch;\n\tvar branch_3 = branch.createDeletedBranch;\n\n\tvar mode = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar Mode;\n\t(function (Mode) {\n\t    Mode[\"Compact\"] = \"compact\";\n\t})(Mode || (Mode = {}));\n\texports.Mode = Mode;\n\n\t});\n\n\tunwrapExports(mode);\n\tvar mode_1 = mode.Mode;\n\n\tvar regular = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tclass RegularGraphRows {\n\t    constructor(commits) {\n\t        this.rows = new Map();\n\t        this.maxRowCache = undefined;\n\t        this.computeRowsFromCommits(commits);\n\t    }\n\t    getRowOf(commitHash) {\n\t        return this.rows.get(commitHash) || 0;\n\t    }\n\t    getMaxRow() {\n\t        if (this.maxRowCache === undefined) {\n\t            this.maxRowCache = uniq(Array.from(this.rows.values())).length - 1;\n\t        }\n\t        return this.maxRowCache;\n\t    }\n\t    computeRowsFromCommits(commits) {\n\t        commits.forEach((commit, i) => {\n\t            this.rows.set(commit.hash, i);\n\t        });\n\t        this.maxRowCache = undefined;\n\t    }\n\t}\n\texports.RegularGraphRows = RegularGraphRows;\n\t/**\n\t * Creates a duplicate-free version of an array.\n\t *\n\t * Don't use lodash's `uniq` as it increased bundlesize a lot for such a\n\t * simple function.\n\t * => The way we bundle for browser seems not to work with `lodash-es`.\n\t * => I didn't to get tree-shaking to work with `lodash` (the CommonJS version).\n\t *\n\t * @param array Array of values\n\t */\n\tfunction uniq(array) {\n\t    const set = new Set();\n\t    array.forEach((value) => set.add(value));\n\t    return Array.from(set);\n\t}\n\n\t});\n\n\tunwrapExports(regular);\n\tvar regular_1 = regular.RegularGraphRows;\n\n\tvar compact = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\tclass CompactGraphRows extends regular.RegularGraphRows {\n\t    computeRowsFromCommits(commits) {\n\t        commits.forEach((commit, i) => {\n\t            let newRow = i;\n\t            const isFirstCommit = i === 0;\n\t            if (!isFirstCommit) {\n\t                const parentRow = this.getRowOf(commit.parents[0]);\n\t                const historyParent = commits[i - 1];\n\t                newRow = Math.max(parentRow + 1, this.getRowOf(historyParent.hash));\n\t                const isMergeCommit = commit.parents.length > 1;\n\t                if (isMergeCommit) {\n\t                    // Push commit to next row to avoid collision when the branch in which\n\t                    // the merge happens has more commits than the merged branch.\n\t                    const mergeTargetParentRow = this.getRowOf(commit.parents[1]);\n\t                    if (parentRow < mergeTargetParentRow)\n\t                        newRow++;\n\t                }\n\t            }\n\t            this.rows.set(commit.hash, newRow);\n\t        });\n\t    }\n\t}\n\texports.CompactGraphRows = CompactGraphRows;\n\n\t});\n\n\tunwrapExports(compact);\n\tvar compact_1 = compact.CompactGraphRows;\n\n\tvar graphRows = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n\n\texports.GraphRows = regular.RegularGraphRows;\n\tfunction createGraphRows(mode$1, commits) {\n\t    return mode$1 === mode.Mode.Compact\n\t        ? new compact.CompactGraphRows(commits)\n\t        : new regular.RegularGraphRows(commits);\n\t}\n\texports.createGraphRows = createGraphRows;\n\n\t});\n\n\tunwrapExports(graphRows);\n\tvar graphRows_1 = graphRows.GraphRows;\n\tvar graphRows_2 = graphRows.createGraphRows;\n\n\tvar branchesOrder = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tclass BranchesOrder {\n\t    constructor(commits, colors, compareFunction) {\n\t        this.branches = new Set();\n\t        this.colors = colors;\n\t        commits.forEach((commit) => this.branches.add(commit.branchToDisplay));\n\t        if (compareFunction) {\n\t            this.branches = new Set(Array.from(this.branches).sort(compareFunction));\n\t        }\n\t    }\n\t    /**\n\t     * Return the order of the given branch name.\n\t     *\n\t     * @param branchName Name of the branch\n\t     */\n\t    get(branchName) {\n\t        return Array.from(this.branches).findIndex((branch) => branch === branchName);\n\t    }\n\t    /**\n\t     * Return the color of the given branch.\n\t     *\n\t     * @param branchName Name of the branch\n\t     */\n\t    getColorOf(branchName) {\n\t        return this.colors[this.get(branchName) % this.colors.length];\n\t    }\n\t}\n\texports.BranchesOrder = BranchesOrder;\n\n\t});\n\n\tunwrapExports(branchesOrder);\n\tvar branchesOrder_1 = branchesOrder.BranchesOrder;\n\n\tvar refs = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tclass Refs {\n\t    constructor() {\n\t        this.commitPerName = new Map();\n\t        this.namesPerCommit = new Map();\n\t    }\n\t    /**\n\t     * Set a new reference to a commit hash.\n\t     *\n\t     * @param name Name of the ref (ex: \"master\", \"v1.0\")\n\t     * @param commitHash Commit hash\n\t     */\n\t    set(name, commitHash) {\n\t        const prevCommitHash = this.commitPerName.get(name);\n\t        if (prevCommitHash) {\n\t            this.removeNameFrom(prevCommitHash, name);\n\t        }\n\t        this.addNameTo(commitHash, name);\n\t        this.addCommitTo(name, commitHash);\n\t        return this;\n\t    }\n\t    /**\n\t     * Delete a reference\n\t     *\n\t     * @param name Name of the reference\n\t     */\n\t    delete(name) {\n\t        if (this.hasName(name)) {\n\t            this.removeNameFrom(this.getCommit(name), name);\n\t            this.commitPerName.delete(name);\n\t        }\n\t        return this;\n\t    }\n\t    /**\n\t     * Get the commit hash associated with the given reference name.\n\t     *\n\t     * @param name Name of the ref\n\t     */\n\t    getCommit(name) {\n\t        return this.commitPerName.get(name);\n\t    }\n\t    /**\n\t     * Get the list of reference names associated with given commit hash.\n\t     *\n\t     * @param commitHash Commit hash\n\t     */\n\t    getNames(commitHash) {\n\t        return this.namesPerCommit.get(commitHash) || [];\n\t    }\n\t    /**\n\t     * Get all reference names known.\n\t     */\n\t    getAllNames() {\n\t        return Array.from(this.commitPerName.keys());\n\t    }\n\t    /**\n\t     * Returns true if given commit hash is referenced.\n\t     *\n\t     * @param commitHash Commit hash\n\t     */\n\t    hasCommit(commitHash) {\n\t        return this.namesPerCommit.has(commitHash);\n\t    }\n\t    /**\n\t     * Returns true if given reference name exists.\n\t     *\n\t     * @param name Name of the ref\n\t     */\n\t    hasName(name) {\n\t        return this.commitPerName.has(name);\n\t    }\n\t    removeNameFrom(commitHash, nameToRemove) {\n\t        const names = this.namesPerCommit.get(commitHash) || [];\n\t        this.namesPerCommit.set(commitHash, names.filter((name) => name !== nameToRemove));\n\t    }\n\t    addNameTo(commitHash, nameToAdd) {\n\t        const prevNames = this.namesPerCommit.get(commitHash) || [];\n\t        this.namesPerCommit.set(commitHash, [...prevNames, nameToAdd]);\n\t    }\n\t    addCommitTo(name, commitHashToAdd) {\n\t        this.commitPerName.set(name, commitHashToAdd);\n\t    }\n\t}\n\texports.Refs = Refs;\n\n\t});\n\n\tunwrapExports(refs);\n\tvar refs_1 = refs.Refs;\n\n\tvar branchesPaths = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\t/**\n\t * Calculate branches paths of the graph.\n\t *\n\t * It follows the Command pattern:\n\t * => a class with a single `execute()` public method.\n\t *\n\t * Main benefit is we can split computation in smaller steps without\n\t * passing around parameters (we can rely on private data).\n\t */\n\tclass BranchesPathsCalculator {\n\t    constructor(commits, branches, commitSpacing, isGraphVertical, isGraphReverse, createDeletedBranch) {\n\t        this.branchesPaths = new Map();\n\t        this.commits = commits;\n\t        this.branches = branches;\n\t        this.commitSpacing = commitSpacing;\n\t        this.isGraphVertical = isGraphVertical;\n\t        this.isGraphReverse = isGraphReverse;\n\t        this.createDeletedBranch = createDeletedBranch;\n\t    }\n\t    /**\n\t     * Compute branches paths for graph.\n\t     */\n\t    execute() {\n\t        this.fromCommits();\n\t        this.withMergeCommits();\n\t        return this.smoothBranchesPaths();\n\t    }\n\t    /**\n\t     * Initialize branches paths from calculator's commits.\n\t     */\n\t    fromCommits() {\n\t        this.commits.forEach((commit) => {\n\t            let branch = this.branches.get(commit.branchToDisplay);\n\t            if (!branch) {\n\t                // NB: may not work properly if there are many deleted branches.\n\t                branch = this.getDeletedBranchInPath() || this.createDeletedBranch();\n\t            }\n\t            const path = [];\n\t            const existingBranchPath = this.branchesPaths.get(branch);\n\t            const firstParentCommit = this.commits.find(({ hash }) => hash === commit.parents[0]);\n\t            if (existingBranchPath) {\n\t                path.push(...existingBranchPath);\n\t            }\n\t            else if (firstParentCommit) {\n\t                // Make branch path starts from parent branch (parent commit).\n\t                path.push({ x: firstParentCommit.x, y: firstParentCommit.y });\n\t            }\n\t            path.push({ x: commit.x, y: commit.y });\n\t            this.branchesPaths.set(branch, path);\n\t        });\n\t    }\n\t    /**\n\t     * Insert merge commits points into `branchesPaths`.\n\t     *\n\t     * @example\n\t     *     // Before\n\t     *     [\n\t     *       { x: 0, y: 640 },\n\t     *       { x: 50, y: 560 }\n\t     *     ]\n\t     *\n\t     *     // After\n\t     *     [\n\t     *       { x: 0, y: 640 },\n\t     *       { x: 50, y: 560 },\n\t     *       { x: 50, y: 560, mergeCommit: true }\n\t     *     ]\n\t     */\n\t    withMergeCommits() {\n\t        const mergeCommits = this.commits.filter(({ parents }) => parents.length > 1);\n\t        mergeCommits.forEach((mergeCommit) => {\n\t            const parentOnOriginBranch = this.commits.find(({ hash }) => {\n\t                return hash === mergeCommit.parents[1];\n\t            });\n\t            if (!parentOnOriginBranch)\n\t                return;\n\t            const originBranchName = parentOnOriginBranch.branches\n\t                ? parentOnOriginBranch.branches[0]\n\t                : \"\";\n\t            let branch = this.branches.get(originBranchName);\n\t            if (!branch) {\n\t                branch = this.getDeletedBranchInPath();\n\t                if (!branch) {\n\t                    // Still no branch? That's strange, we shouldn't set anything.\n\t                    return;\n\t                }\n\t            }\n\t            const lastPoints = [...(this.branchesPaths.get(branch) || [])];\n\t            this.branchesPaths.set(branch, [\n\t                ...lastPoints,\n\t                { x: mergeCommit.x, y: mergeCommit.y, mergeCommit: true },\n\t            ]);\n\t        });\n\t    }\n\t    /**\n\t     * Retrieve deleted branch from calculator's branches paths.\n\t     */\n\t    getDeletedBranchInPath() {\n\t        return Array.from(this.branchesPaths.keys()).find((branch) => branch.isDeleted());\n\t    }\n\t    /**\n\t     * Smooth all paths by putting points on each row.\n\t     */\n\t    smoothBranchesPaths() {\n\t        const branchesPaths = new Map();\n\t        this.branchesPaths.forEach((points, branch) => {\n\t            if (points.length <= 1) {\n\t                branchesPaths.set(branch, [points]);\n\t                return;\n\t            }\n\t            // Cut path on each merge commits\n\t            // Coordinate[] -> Coordinate[][]\n\t            if (this.isGraphVertical) {\n\t                points = points.sort((a, b) => (a.y > b.y ? -1 : 1));\n\t            }\n\t            else {\n\t                points = points.sort((a, b) => (a.x > b.x ? 1 : -1));\n\t            }\n\t            if (this.isGraphReverse) {\n\t                points = points.reverse();\n\t            }\n\t            const paths = points.reduce((mem, point, i) => {\n\t                if (point.mergeCommit) {\n\t                    mem[mem.length - 1].push(utils.pick(point, [\"x\", \"y\"]));\n\t                    let j = i - 1;\n\t                    let previousPoint = points[j];\n\t                    // Find the last point which is not a merge\n\t                    while (j >= 0 && previousPoint.mergeCommit) {\n\t                        j--;\n\t                        previousPoint = points[j];\n\t                    }\n\t                    // Start a new array with this point\n\t                    if (j >= 0) {\n\t                        mem.push([previousPoint]);\n\t                    }\n\t                }\n\t                else {\n\t                    mem[mem.length - 1].push(point);\n\t                }\n\t                return mem;\n\t            }, [[]]);\n\t            if (this.isGraphReverse) {\n\t                paths.forEach((path) => path.reverse());\n\t            }\n\t            // Add intermediate points on each sub paths\n\t            if (this.isGraphVertical) {\n\t                paths.forEach((subPath) => {\n\t                    if (subPath.length <= 1)\n\t                        return;\n\t                    const firstPoint = subPath[0];\n\t                    const lastPoint = subPath[subPath.length - 1];\n\t                    const column = subPath[1].x;\n\t                    const branchSize = Math.round(Math.abs(firstPoint.y - lastPoint.y) / this.commitSpacing) - 1;\n\t                    const branchPoints = branchSize > 0\n\t                        ? new Array(branchSize).fill(0).map((_, i) => ({\n\t                            x: column,\n\t                            y: subPath[0].y - this.commitSpacing * (i + 1),\n\t                        }))\n\t                        : [];\n\t                    const lastSubPaths = branchesPaths.get(branch) || [];\n\t                    branchesPaths.set(branch, [\n\t                        ...lastSubPaths,\n\t                        [firstPoint, ...branchPoints, lastPoint],\n\t                    ]);\n\t                });\n\t            }\n\t            else {\n\t                paths.forEach((subPath) => {\n\t                    if (subPath.length <= 1)\n\t                        return;\n\t                    const firstPoint = subPath[0];\n\t                    const lastPoint = subPath[subPath.length - 1];\n\t                    const column = subPath[1].y;\n\t                    const branchSize = Math.round(Math.abs(firstPoint.x - lastPoint.x) / this.commitSpacing) - 1;\n\t                    const branchPoints = branchSize > 0\n\t                        ? new Array(branchSize).fill(0).map((_, i) => ({\n\t                            y: column,\n\t                            x: subPath[0].x + this.commitSpacing * (i + 1),\n\t                        }))\n\t                        : [];\n\t                    const lastSubPaths = branchesPaths.get(branch) || [];\n\t                    branchesPaths.set(branch, [\n\t                        ...lastSubPaths,\n\t                        [firstPoint, ...branchPoints, lastPoint],\n\t                    ]);\n\t                });\n\t            }\n\t        });\n\t        return branchesPaths;\n\t    }\n\t}\n\texports.BranchesPathsCalculator = BranchesPathsCalculator;\n\t/**\n\t * Return a string ready to use in `svg.path.d` from coordinates\n\t *\n\t * @param coordinates Collection of coordinates\n\t */\n\tfunction toSvgPath(coordinates, isBezier, isVertical) {\n\t    return coordinates\n\t        .map((path) => \"M\" +\n\t        path\n\t            .map(({ x, y }, i, points) => {\n\t            if (isBezier &&\n\t                points.length > 1 &&\n\t                (i === 1 || i === points.length - 1)) {\n\t                const previous = points[i - 1];\n\t                if (isVertical) {\n\t                    const middleY = (previous.y + y) / 2;\n\t                    return `C ${previous.x} ${middleY} ${x} ${middleY} ${x} ${y}`;\n\t                }\n\t                else {\n\t                    const middleX = (previous.x + x) / 2;\n\t                    return `C ${middleX} ${previous.y} ${middleX} ${y} ${x} ${y}`;\n\t                }\n\t            }\n\t            return `L ${x} ${y}`;\n\t        })\n\t            .join(\" \")\n\t            .slice(1))\n\t        .join(\" \");\n\t}\n\texports.toSvgPath = toSvgPath;\n\n\t});\n\n\tunwrapExports(branchesPaths);\n\tvar branchesPaths_1 = branchesPaths.BranchesPathsCalculator;\n\tvar branchesPaths_2 = branchesPaths.toSvgPath;\n\n\tvar gitgraphUserApi = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n\n\tclass GitgraphUserApi {\n\t    // tslint:enable:variable-name\n\t    constructor(graph, onGraphUpdate) {\n\t        this._graph = graph;\n\t        this._onGraphUpdate = onGraphUpdate;\n\t    }\n\t    /**\n\t     * Clear everything (as `rm -rf .git && git init`).\n\t     */\n\t    clear() {\n\t        this._graph.refs = new refs.Refs();\n\t        this._graph.tags = new refs.Refs();\n\t        this._graph.commits = [];\n\t        this._graph.branches = new Map();\n\t        this._graph.currentBranch = this._graph.createBranch(\"master\");\n\t        this._onGraphUpdate();\n\t        return this;\n\t    }\n\t    commit(options) {\n\t        this._graph.currentBranch.getUserApi().commit(options);\n\t        return this;\n\t    }\n\t    branch(args) {\n\t        return this._graph.createBranch(args).getUserApi();\n\t    }\n\t    tag(...args) {\n\t        // Deal with shorter syntax\n\t        let name;\n\t        let ref;\n\t        let style;\n\t        let render;\n\t        if (typeof args[0] === \"string\") {\n\t            name = args[0];\n\t            ref = args[1];\n\t        }\n\t        else {\n\t            name = args[0].name;\n\t            ref = args[0].ref;\n\t            style = args[0].style;\n\t            render = args[0].render;\n\t        }\n\t        if (!ref) {\n\t            const head = this._graph.refs.getCommit(\"HEAD\");\n\t            if (!head)\n\t                return this;\n\t            ref = head;\n\t        }\n\t        let commitHash;\n\t        if (this._graph.refs.hasCommit(ref)) {\n\t            // `ref` is a `Commit[\"hash\"]`\n\t            commitHash = ref;\n\t        }\n\t        if (this._graph.refs.hasName(ref)) {\n\t            // `ref` is a `Branch[\"name\"]`\n\t            commitHash = this._graph.refs.getCommit(ref);\n\t        }\n\t        if (!commitHash) {\n\t            throw new Error(`The ref \"${ref}\" does not exist`);\n\t        }\n\t        this._graph.tags.set(name, commitHash);\n\t        this._graph.tagStyles[name] = style;\n\t        this._graph.tagRenders[name] = render;\n\t        this._onGraphUpdate();\n\t        return this;\n\t    }\n\t    /**\n\t     * Import a JSON.\n\t     *\n\t     * Data can't be typed since it comes from a JSON.\n\t     * We validate input format and throw early if something is invalid.\n\t     *\n\t     * @experimental\n\t     * @param data JSON from `git2json` output\n\t     */\n\t    import(data) {\n\t        const invalidData = new Error(\"Only `git2json` format is supported for imported data.\");\n\t        // We manually validate input data instead of using a lib like yup.\n\t        // => this is to keep bundlesize small.\n\t        if (!Array.isArray(data)) {\n\t            throw invalidData;\n\t        }\n\t        const areDataValid = data.every((options) => {\n\t            return (typeof options === \"object\" &&\n\t                typeof options.author === \"object\" &&\n\t                Array.isArray(options.refs));\n\t        });\n\t        if (!areDataValid) {\n\t            throw invalidData;\n\t        }\n\t        const commitOptionsList = data\n\t            .map((options) => (Object.assign({}, options, { style: Object.assign({}, this._graph.template.commit, { message: Object.assign({}, this._graph.template.commit.message, { display: this._graph.shouldDisplayCommitMessage }) }), author: `${options.author.name} <${options.author.email}>` })))\n\t            // Git2json outputs is reverse-chronological.\n\t            // We need to commit it chronological order.\n\t            .reverse();\n\t        // Use validated `value`.\n\t        this.clear();\n\t        this._graph.commits = commitOptionsList.map((options) => new commit.Commit(options));\n\t        // Create tags & refs.\n\t        commitOptionsList.forEach(({ refs, hash }) => {\n\t            if (!refs)\n\t                return;\n\t            if (!hash)\n\t                return;\n\t            const TAG_PREFIX = \"tag: \";\n\t            const tags = refs\n\t                .map((ref) => ref.split(TAG_PREFIX))\n\t                .map(([_, tag]) => tag)\n\t                .filter((tag) => typeof tag === \"string\");\n\t            tags.forEach((tag) => this._graph.tags.set(tag, hash));\n\t            refs\n\t                .filter((ref) => !ref.startsWith(TAG_PREFIX))\n\t                .forEach((ref) => this._graph.refs.set(ref, hash));\n\t        });\n\t        // Create branches.\n\t        const branches = this._getBranches();\n\t        this._graph.commits\n\t            .map((commit) => this._withBranches(branches, commit))\n\t            .reduce((mem, commit) => {\n\t            if (!commit.branches)\n\t                return mem;\n\t            commit.branches.forEach((branch) => mem.add(branch));\n\t            return mem;\n\t        }, new Set())\n\t            .forEach((branch) => this.branch(branch));\n\t        this._onGraphUpdate();\n\t        return this;\n\t    }\n\t    // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n\t    // TODO: get rid of these duplicated private methods.\n\t    //\n\t    // These belong to Gitgraph. It is duplicated because of `import()`.\n\t    // `import()` should use regular user API instead.\n\t    _withBranches(branches, commit) {\n\t        let commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\t        if (commitBranches.length === 0) {\n\t            // No branch => branch has been deleted.\n\t            commitBranches = [branch.DELETED_BRANCH_NAME];\n\t        }\n\t        return commit.setBranches(commitBranches);\n\t    }\n\t    _getBranches() {\n\t        const result = new Map();\n\t        const queue = [];\n\t        const branches = this._graph.refs\n\t            .getAllNames()\n\t            .filter((name) => name !== \"HEAD\");\n\t        branches.forEach((branch) => {\n\t            const commitHash = this._graph.refs.getCommit(branch);\n\t            if (commitHash) {\n\t                queue.push(commitHash);\n\t            }\n\t            while (queue.length > 0) {\n\t                const currentHash = queue.pop();\n\t                const current = this._graph.commits.find(({ hash }) => hash === currentHash);\n\t                const prevBranches = result.get(currentHash) || new Set();\n\t                prevBranches.add(branch);\n\t                result.set(currentHash, prevBranches);\n\t                if (current && current.parents && current.parents.length > 0) {\n\t                    queue.push(current.parents[0]);\n\t                }\n\t            }\n\t        });\n\t        return result;\n\t    }\n\t}\n\texports.GitgraphUserApi = GitgraphUserApi;\n\n\t});\n\n\tunwrapExports(gitgraphUserApi);\n\tvar gitgraphUserApi_1 = gitgraphUserApi.GitgraphUserApi;\n\n\tvar gitgraph = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n\n\n\n\n\n\n\n\n\tclass GitgraphCore {\n\t    constructor(options = {}) {\n\t        this.refs = new refs.Refs();\n\t        this.tags = new refs.Refs();\n\t        this.tagStyles = {};\n\t        this.tagRenders = {};\n\t        this.commits = [];\n\t        this.branches = new Map();\n\t        this.listeners = [];\n\t        this.nextTimeoutId = null;\n\t        this.template = template.getTemplate(options.template);\n\t        // Set a default `master` branch\n\t        this.currentBranch = this.createBranch(\"master\");\n\t        // Set all options with default values\n\t        this.orientation = options.orientation;\n\t        this.reverseArrow = utils.booleanOptionOr(options.reverseArrow, false);\n\t        this.initCommitOffsetX = utils.numberOptionOr(options.initCommitOffsetX, 0);\n\t        this.initCommitOffsetY = utils.numberOptionOr(options.initCommitOffsetY, 0);\n\t        this.mode = options.mode;\n\t        this.author = options.author || \"Sergio Flores <saxo-guy@epic.com>\";\n\t        this.commitMessage =\n\t            options.commitMessage || \"He doesn't like George Michael! Boooo!\";\n\t        this.generateCommitHash =\n\t            typeof options.generateCommitHash === \"function\"\n\t                ? options.generateCommitHash\n\t                : () => undefined;\n\t        this.branchesOrderFunction =\n\t            typeof options.compareBranchesOrder === \"function\"\n\t                ? options.compareBranchesOrder\n\t                : undefined;\n\t        this.branchLabelOnEveryCommit = utils.booleanOptionOr(options.branchLabelOnEveryCommit, false);\n\t    }\n\t    get isHorizontal() {\n\t        return (this.orientation === orientation.Orientation.Horizontal ||\n\t            this.orientation === orientation.Orientation.HorizontalReverse);\n\t    }\n\t    get isVertical() {\n\t        return !this.isHorizontal;\n\t    }\n\t    get isReverse() {\n\t        return (this.orientation === orientation.Orientation.HorizontalReverse ||\n\t            this.orientation === orientation.Orientation.VerticalReverse);\n\t    }\n\t    get shouldDisplayCommitMessage() {\n\t        return !this.isHorizontal && this.mode !== mode.Mode.Compact;\n\t    }\n\t    /**\n\t     * Return the API to manipulate Gitgraph as a user.\n\t     * Rendering library should give that API to their consumer.\n\t     */\n\t    getUserApi() {\n\t        return new gitgraphUserApi.GitgraphUserApi(this, () => this.next());\n\t    }\n\t    /**\n\t     * Add a change listener.\n\t     * It will be called any time the graph have changed (commit, merge…).\n\t     *\n\t     * @param listener A callback to be invoked on every change.\n\t     * @returns A function to remove this change listener.\n\t     */\n\t    subscribe(listener) {\n\t        this.listeners.push(listener);\n\t        let isSubscribed = true;\n\t        return () => {\n\t            if (!isSubscribed)\n\t                return;\n\t            isSubscribed = false;\n\t            const index = this.listeners.indexOf(listener);\n\t            this.listeners.splice(index, 1);\n\t        };\n\t    }\n\t    /**\n\t     * Return all data required for rendering.\n\t     * Rendering libraries will use this to implement their rendering strategy.\n\t     */\n\t    getRenderedData() {\n\t        const commits = this.computeRenderedCommits();\n\t        const branchesPaths = this.computeRenderedBranchesPaths(commits);\n\t        const commitMessagesX = this.computeCommitMessagesX(branchesPaths);\n\t        this.computeBranchesColor(commits, branchesPaths);\n\t        return { commits, branchesPaths, commitMessagesX };\n\t    }\n\t    createBranch(args) {\n\t        const defaultParentBranchName = \"HEAD\";\n\t        let options = {\n\t            gitgraph: this,\n\t            name: \"\",\n\t            parentCommitHash: this.refs.getCommit(defaultParentBranchName),\n\t            style: this.template.branch,\n\t            onGraphUpdate: () => this.next(),\n\t        };\n\t        if (typeof args === \"string\") {\n\t            options.name = args;\n\t            options.parentCommitHash = this.refs.getCommit(defaultParentBranchName);\n\t        }\n\t        else {\n\t            const parentBranchName = args.from\n\t                ? args.from.name\n\t                : defaultParentBranchName;\n\t            const parentCommitHash = this.refs.getCommit(parentBranchName) ||\n\t                (this.refs.hasCommit(args.from) ? args.from : undefined);\n\t            args.style = args.style || {};\n\t            options = Object.assign({}, options, args, { parentCommitHash, style: Object.assign({}, options.style, args.style, { label: Object.assign({}, options.style.label, args.style.label) }) });\n\t        }\n\t        const branch$1 = new branch.Branch(options);\n\t        this.branches.set(branch$1.name, branch$1);\n\t        return branch$1;\n\t    }\n\t    /**\n\t     * Return commits with data for rendering.\n\t     */\n\t    computeRenderedCommits() {\n\t        const branches = this.getBranches();\n\t        // Commits that are not associated to a branch in `branches`\n\t        // were in a deleted branch. If the latter was merged beforehand\n\t        // they are reachable and are rendered. Others are not\n\t        const reachableUnassociatedCommits = (() => {\n\t            const unassociatedCommits = new Set(this.commits.reduce((commits, { hash }) => !branches.has(hash) ? [...commits, hash] : commits, []));\n\t            const tipsOfMergedBranches = this.commits.reduce((tipsOfMergedBranches, commit) => commit.parents.length > 1\n\t                ? [\n\t                    ...tipsOfMergedBranches,\n\t                    ...commit.parents\n\t                        .slice(1)\n\t                        .map((parentHash) => this.commits.find(({ hash }) => parentHash === hash)),\n\t                ]\n\t                : tipsOfMergedBranches, []);\n\t            const reachableCommits = new Set();\n\t            tipsOfMergedBranches.forEach((tip) => {\n\t                let currentCommit = tip;\n\t                while (currentCommit && unassociatedCommits.has(currentCommit.hash)) {\n\t                    reachableCommits.add(currentCommit.hash);\n\t                    currentCommit =\n\t                        currentCommit.parents.length > 0\n\t                            ? this.commits.find(({ hash }) => currentCommit.parents[0] === hash)\n\t                            : undefined;\n\t                }\n\t            });\n\t            return reachableCommits;\n\t        })();\n\t        const commitsToRender = this.commits.filter(({ hash }) => branches.has(hash) || reachableUnassociatedCommits.has(hash));\n\t        const commitsWithBranches = commitsToRender.map((commit) => this.withBranches(branches, commit));\n\t        const rows = graphRows.createGraphRows(this.mode, commitsToRender);\n\t        const branchesOrder$1 = new branchesOrder.BranchesOrder(commitsWithBranches, this.template.colors, this.branchesOrderFunction);\n\t        return (commitsWithBranches\n\t            .map((commit) => commit.setRefs(this.refs))\n\t            .map((commit) => this.withPosition(rows, branchesOrder$1, commit))\n\t            // Fallback commit computed color on branch color.\n\t            .map((commit) => commit.withDefaultColor(this.getBranchDefaultColor(branchesOrder$1, commit.branchToDisplay)))\n\t            // Tags need commit style to be computed (with default color).\n\t            .map((commit) => commit.setTags(this.tags, (name) => Object.assign({}, this.tagStyles[name], this.template.tag), (name) => this.tagRenders[name])));\n\t    }\n\t    /**\n\t     * Return branches paths with all data required for rendering.\n\t     *\n\t     * @param commits List of commits with rendering data computed\n\t     */\n\t    computeRenderedBranchesPaths(commits) {\n\t        return new branchesPaths.BranchesPathsCalculator(commits, this.branches, this.template.commit.spacing, this.isVertical, this.isReverse, () => branch.createDeletedBranch(this, this.template.branch, () => this.next())).execute();\n\t    }\n\t    /**\n\t     * Set branches colors based on branches paths.\n\t     *\n\t     * @param commits List of graph commits\n\t     * @param branchesPaths Branches paths to be rendered\n\t     */\n\t    computeBranchesColor(commits, branchesPaths) {\n\t        const branchesOrder$1 = new branchesOrder.BranchesOrder(commits, this.template.colors, this.branchesOrderFunction);\n\t        Array.from(branchesPaths).forEach(([branch]) => {\n\t            branch.computedColor =\n\t                branch.style.color ||\n\t                    this.getBranchDefaultColor(branchesOrder$1, branch.name);\n\t        });\n\t    }\n\t    /**\n\t     * Return commit messages X position for rendering.\n\t     *\n\t     * @param branchesPaths Branches paths to be rendered\n\t     */\n\t    computeCommitMessagesX(branchesPaths) {\n\t        const numberOfColumns = Array.from(branchesPaths).length;\n\t        return numberOfColumns * this.template.branch.spacing;\n\t    }\n\t    /**\n\t     * Add `branches` property to commit.\n\t     *\n\t     * @param branches All branches mapped by commit hash\n\t     * @param commit Commit\n\t     */\n\t    withBranches(branches, commit) {\n\t        let commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\t        if (commitBranches.length === 0) {\n\t            // No branch => branch has been deleted.\n\t            commitBranches = [branch.DELETED_BRANCH_NAME];\n\t        }\n\t        return commit.setBranches(commitBranches);\n\t    }\n\t    /**\n\t     * Get all branches from current commits.\n\t     */\n\t    getBranches() {\n\t        const result = new Map();\n\t        const queue = [];\n\t        const branches = this.refs.getAllNames().filter((name) => name !== \"HEAD\");\n\t        branches.forEach((branch) => {\n\t            const commitHash = this.refs.getCommit(branch);\n\t            if (commitHash) {\n\t                queue.push(commitHash);\n\t            }\n\t            while (queue.length > 0) {\n\t                const currentHash = queue.pop();\n\t                const current = this.commits.find(({ hash }) => hash === currentHash);\n\t                const prevBranches = result.get(currentHash) || new Set();\n\t                prevBranches.add(branch);\n\t                result.set(currentHash, prevBranches);\n\t                if (current && current.parents && current.parents.length > 0) {\n\t                    queue.push(current.parents[0]);\n\t                }\n\t            }\n\t        });\n\t        return result;\n\t    }\n\t    /**\n\t     * Add position to given commit.\n\t     *\n\t     * @param rows Graph rows\n\t     * @param branchesOrder Computed order of branches\n\t     * @param commit Commit to position\n\t     */\n\t    withPosition(rows, branchesOrder, commit) {\n\t        const row = rows.getRowOf(commit.hash);\n\t        const maxRow = rows.getMaxRow();\n\t        const order = branchesOrder.get(commit.branchToDisplay);\n\t        switch (this.orientation) {\n\t            default:\n\t                return commit.setPosition({\n\t                    x: this.initCommitOffsetX + this.template.branch.spacing * order,\n\t                    y: this.initCommitOffsetY +\n\t                        this.template.commit.spacing * (maxRow - row),\n\t                });\n\t            case orientation.Orientation.VerticalReverse:\n\t                return commit.setPosition({\n\t                    x: this.initCommitOffsetX + this.template.branch.spacing * order,\n\t                    y: this.initCommitOffsetY + this.template.commit.spacing * row,\n\t                });\n\t            case orientation.Orientation.Horizontal:\n\t                return commit.setPosition({\n\t                    x: this.initCommitOffsetX + this.template.commit.spacing * row,\n\t                    y: this.initCommitOffsetY + this.template.branch.spacing * order,\n\t                });\n\t            case orientation.Orientation.HorizontalReverse:\n\t                return commit.setPosition({\n\t                    x: this.initCommitOffsetX +\n\t                        this.template.commit.spacing * (maxRow - row),\n\t                    y: this.initCommitOffsetY + this.template.branch.spacing * order,\n\t                });\n\t        }\n\t    }\n\t    /**\n\t     * Return the default color for given branch.\n\t     *\n\t     * @param branchesOrder Computed order of branches\n\t     * @param branchName Name of the branch\n\t     */\n\t    getBranchDefaultColor(branchesOrder, branchName) {\n\t        return branchesOrder.getColorOf(branchName);\n\t    }\n\t    /**\n\t     * Tell each listener something new happened.\n\t     * E.g. a rendering library will know it needs to re-render the graph.\n\t     */\n\t    next() {\n\t        if (this.nextTimeoutId) {\n\t            window.clearTimeout(this.nextTimeoutId);\n\t        }\n\t        // Use setTimeout() with `0` to debounce call to next tick.\n\t        this.nextTimeoutId = window.setTimeout(() => {\n\t            this.listeners.forEach((listener) => listener(this.getRenderedData()));\n\t        }, 0);\n\t    }\n\t}\n\texports.GitgraphCore = GitgraphCore;\n\n\t});\n\n\tunwrapExports(gitgraph);\n\tvar gitgraph_1 = gitgraph.GitgraphCore;\n\n\tvar lib = createCommonjsModule(function (module, exports) {\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\texports.GitgraphCore = gitgraph.GitgraphCore;\n\n\texports.Mode = mode.Mode;\n\n\texports.GitgraphUserApi = gitgraphUserApi.GitgraphUserApi;\n\n\texports.BranchUserApi = branchUserApi.BranchUserApi;\n\n\texports.Branch = branch.Branch;\n\n\texports.Commit = commit.Commit;\n\n\texports.Tag = tag.Tag;\n\n\texports.Refs = refs.Refs;\n\n\texports.MergeStyle = template.MergeStyle;\n\texports.TemplateName = template.TemplateName;\n\texports.templateExtend = template.templateExtend;\n\n\texports.Orientation = orientation.Orientation;\n\n\texports.toSvgPath = branchesPaths.toSvgPath;\n\n\texports.arrowSvgPath = utils.arrowSvgPath;\n\n\t});\n\n\tunwrapExports(lib);\n\tvar lib_1 = lib.GitgraphCore;\n\tvar lib_2 = lib.Mode;\n\tvar lib_3 = lib.GitgraphUserApi;\n\tvar lib_4 = lib.BranchUserApi;\n\tvar lib_5 = lib.Branch;\n\tvar lib_6 = lib.Commit;\n\tvar lib_7 = lib.Tag;\n\tvar lib_8 = lib.Refs;\n\tvar lib_9 = lib.MergeStyle;\n\tvar lib_10 = lib.TemplateName;\n\tvar lib_11 = lib.templateExtend;\n\tvar lib_12 = lib.Orientation;\n\tvar lib_13 = lib.toSvgPath;\n\tvar lib_14 = lib.arrowSvgPath;\n\n\tvar SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\n\tfunction createSvg(options) {\n\t    var svg = document.createElementNS(SVG_NAMESPACE, \"svg\");\n\t    if (!options)\n\t        return svg;\n\t    if (options.children) {\n\t        options.children.forEach(function (child) { return svg.appendChild(child); });\n\t    }\n\t    if (options.viewBox) {\n\t        svg.setAttribute(\"viewBox\", options.viewBox);\n\t    }\n\t    if (options.height) {\n\t        svg.setAttribute(\"height\", options.height.toString());\n\t    }\n\t    if (options.width) {\n\t        svg.setAttribute(\"width\", options.width.toString());\n\t    }\n\t    return svg;\n\t}\n\tfunction createG(options) {\n\t    var g = document.createElementNS(SVG_NAMESPACE, \"g\");\n\t    options.children.forEach(function (child) { return child && g.appendChild(child); });\n\t    if (options.translate) {\n\t        g.setAttribute(\"transform\", \"translate(\" + options.translate.x + \", \" + options.translate.y + \")\");\n\t    }\n\t    if (options.fill) {\n\t        g.setAttribute(\"fill\", options.fill);\n\t    }\n\t    if (options.stroke) {\n\t        g.setAttribute(\"stroke\", options.stroke);\n\t    }\n\t    if (options.strokeWidth) {\n\t        g.setAttribute(\"stroke-width\", options.strokeWidth.toString());\n\t    }\n\t    if (options.onClick) {\n\t        g.addEventListener(\"click\", options.onClick);\n\t    }\n\t    if (options.onMouseOver) {\n\t        g.addEventListener(\"mouseover\", options.onMouseOver);\n\t    }\n\t    if (options.onMouseOut) {\n\t        g.addEventListener(\"mouseout\", options.onMouseOut);\n\t    }\n\t    return g;\n\t}\n\tfunction createText(options) {\n\t    var text = document.createElementNS(SVG_NAMESPACE, \"text\");\n\t    text.setAttribute(\"alignment-baseline\", \"central\");\n\t    text.setAttribute(\"dominant-baseline\", \"central\");\n\t    text.textContent = options.content;\n\t    if (options.fill) {\n\t        text.setAttribute(\"fill\", options.fill);\n\t    }\n\t    if (options.font) {\n\t        text.setAttribute(\"style\", \"font: \" + options.font);\n\t    }\n\t    if (options.anchor) {\n\t        text.setAttribute(\"text-anchor\", options.anchor);\n\t    }\n\t    if (options.translate) {\n\t        text.setAttribute(\"x\", options.translate.x.toString());\n\t        text.setAttribute(\"y\", options.translate.y.toString());\n\t    }\n\t    if (options.onClick) {\n\t        text.addEventListener(\"click\", options.onClick);\n\t    }\n\t    return text;\n\t}\n\tfunction createCircle(options) {\n\t    var circle = document.createElementNS(SVG_NAMESPACE, \"circle\");\n\t    circle.setAttribute(\"cx\", options.radius.toString());\n\t    circle.setAttribute(\"cy\", options.radius.toString());\n\t    circle.setAttribute(\"r\", options.radius.toString());\n\t    if (options.id) {\n\t        circle.setAttribute(\"id\", options.id);\n\t    }\n\t    if (options.fill) {\n\t        circle.setAttribute(\"fill\", options.fill);\n\t    }\n\t    return circle;\n\t}\n\tfunction createRect(options) {\n\t    var rect = document.createElementNS(SVG_NAMESPACE, \"rect\");\n\t    rect.setAttribute(\"width\", options.width.toString());\n\t    rect.setAttribute(\"height\", options.height.toString());\n\t    if (options.borderRadius) {\n\t        rect.setAttribute(\"rx\", options.borderRadius.toString());\n\t    }\n\t    if (options.fill) {\n\t        rect.setAttribute(\"fill\", options.fill || \"none\");\n\t    }\n\t    if (options.stroke) {\n\t        rect.setAttribute(\"stroke\", options.stroke);\n\t    }\n\t    return rect;\n\t}\n\tfunction createPath(options) {\n\t    var path = document.createElementNS(SVG_NAMESPACE, \"path\");\n\t    path.setAttribute(\"d\", options.d);\n\t    if (options.fill) {\n\t        path.setAttribute(\"fill\", options.fill);\n\t    }\n\t    if (options.stroke) {\n\t        path.setAttribute(\"stroke\", options.stroke);\n\t    }\n\t    if (options.strokeWidth) {\n\t        path.setAttribute(\"stroke-width\", options.strokeWidth.toString());\n\t    }\n\t    if (options.translate) {\n\t        path.setAttribute(\"transform\", \"translate(\" + options.translate.x + \", \" + options.translate.y + \")\");\n\t    }\n\t    return path;\n\t}\n\tfunction createUse(href) {\n\t    var use = document.createElementNS(SVG_NAMESPACE, \"use\");\n\t    use.setAttribute(\"href\", \"#\" + href);\n\t    // xlink:href is deprecated in SVG2, but we keep it for retro-compatibility\n\t    // => https://developer.mozilla.org/en-US/docs/Web/SVG/Element/use#Browser_compatibility\n\t    use.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", \"#\" + href);\n\t    return use;\n\t}\n\tfunction createClipPath() {\n\t    return document.createElementNS(SVG_NAMESPACE, \"clipPath\");\n\t}\n\tfunction createDefs(children) {\n\t    var defs = document.createElementNS(SVG_NAMESPACE, \"defs\");\n\t    children.forEach(function (child) { return defs.appendChild(child); });\n\t    return defs;\n\t}\n\tfunction createForeignObject(options) {\n\t    var result = document.createElementNS(SVG_NAMESPACE, \"foreignObject\");\n\t    result.setAttribute(\"width\", options.width.toString());\n\t    if (options.translate) {\n\t        result.setAttribute(\"x\", options.translate.x.toString());\n\t        result.setAttribute(\"y\", options.translate.y.toString());\n\t    }\n\t    var p = document.createElement(\"p\");\n\t    p.textContent = options.content;\n\t    result.appendChild(p);\n\t    return result;\n\t}\n\n\tvar PADDING_X = 10;\n\tvar PADDING_Y = 5;\n\tfunction createBranchLabel(branch, commit) {\n\t    var rect = createRect({\n\t        width: 0,\n\t        height: 0,\n\t        borderRadius: branch.style.label.borderRadius,\n\t        stroke: branch.style.label.strokeColor || commit.style.color,\n\t        fill: branch.style.label.bgColor,\n\t    });\n\t    var text = createText({\n\t        content: branch.name,\n\t        translate: {\n\t            x: PADDING_X,\n\t            y: 0,\n\t        },\n\t        font: branch.style.label.font,\n\t        fill: branch.style.label.color || commit.style.color,\n\t    });\n\t    var branchLabel = createG({ children: [rect] });\n\t    var observer = new MutationObserver(function () {\n\t        var _a = text.getBBox(), height = _a.height, width = _a.width;\n\t        var boxWidth = width + 2 * PADDING_X;\n\t        var boxHeight = height + 2 * PADDING_Y;\n\t        // Ideally, it would be great to refactor these behavior into SVG elements.\n\t        rect.setAttribute(\"width\", boxWidth.toString());\n\t        rect.setAttribute(\"height\", boxHeight.toString());\n\t        text.setAttribute(\"y\", (boxHeight / 2).toString());\n\t    });\n\t    observer.observe(branchLabel, {\n\t        attributes: false,\n\t        subtree: false,\n\t        childList: true,\n\t    });\n\t    // Add text after observer is set up => react based on text size.\n\t    // We might refactor it by including `onChildrenUpdate()` to `createG()`.\n\t    branchLabel.appendChild(text);\n\t    return branchLabel;\n\t}\n\n\tvar PADDING_X$1 = 10;\n\tvar PADDING_Y$1 = 5;\n\tfunction createTag(tag) {\n\t    var path = createPath({\n\t        d: \"\",\n\t        fill: tag.style.bgColor,\n\t        stroke: tag.style.strokeColor,\n\t    });\n\t    var text = createText({\n\t        content: tag.name,\n\t        fill: tag.style.color,\n\t        font: tag.style.font,\n\t        translate: { x: 0, y: 0 },\n\t    });\n\t    var result = createG({ children: [path] });\n\t    var offset = tag.style.pointerWidth;\n\t    var observer = new MutationObserver(function () {\n\t        var _a = text.getBBox(), height = _a.height, width = _a.width;\n\t        if (height === 0 || width === 0)\n\t            return;\n\t        var radius = tag.style.borderRadius;\n\t        var boxWidth = offset + width + 2 * PADDING_X$1;\n\t        var boxHeight = height + 2 * PADDING_Y$1;\n\t        var pathD = [\n\t            \"M 0,0\",\n\t            \"L \" + offset + \",\" + boxHeight / 2,\n\t            \"V \" + boxHeight / 2,\n\t            \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2,\n\t            \"H \" + (boxWidth - radius),\n\t            \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius),\n\t            \"V -\" + (boxHeight / 2 - radius),\n\t            \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2,\n\t            \"H \" + (offset + radius),\n\t            \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + boxHeight / 2,\n\t            \"V -\" + boxHeight / 2,\n\t            \"z\",\n\t        ].join(\" \");\n\t        // Ideally, it would be great to refactor these behavior into SVG elements.\n\t        path.setAttribute(\"d\", pathD.toString());\n\t        text.setAttribute(\"x\", (offset + PADDING_X$1).toString());\n\t    });\n\t    observer.observe(result, {\n\t        attributes: false,\n\t        subtree: false,\n\t        childList: true,\n\t    });\n\t    // Add text after observer is set up => react based on text size.\n\t    // We might refactor it by including `onChildrenUpdate()` to `createG()`.\n\t    result.appendChild(text);\n\t    return result;\n\t}\n\n\tvar PADDING = 10;\n\tvar OFFSET = 10;\n\tfunction createTooltip(commit) {\n\t    var path = createPath({ d: \"\", fill: \"#EEE\" });\n\t    var text = createText({\n\t        translate: { x: OFFSET + PADDING, y: 0 },\n\t        content: commit.hashAbbrev + \" - \" + commit.subject,\n\t        fill: \"#333\",\n\t    });\n\t    var commitSize = commit.style.dot.size * 2;\n\t    var tooltip = createG({\n\t        translate: { x: commitSize, y: commitSize / 2 },\n\t        children: [path],\n\t    });\n\t    var observer = new MutationObserver(function () {\n\t        var width = text.getBBox().width;\n\t        var radius = 5;\n\t        var boxHeight = 50;\n\t        var boxWidth = OFFSET + width + 2 * PADDING;\n\t        var pathD = [\n\t            \"M 0,0\",\n\t            \"L \" + OFFSET + \",\" + OFFSET,\n\t            \"V \" + (boxHeight / 2 - radius),\n\t            \"Q \" + OFFSET + \",\" + boxHeight / 2 + \" \" + (OFFSET + radius) + \",\" + boxHeight / 2,\n\t            \"H \" + (boxWidth - radius),\n\t            \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius),\n\t            \"V -\" + (boxHeight / 2 - radius),\n\t            \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2,\n\t            \"H \" + (OFFSET + radius),\n\t            \"Q \" + OFFSET + \",-\" + boxHeight / 2 + \" \" + OFFSET + \",-\" + (boxHeight / 2 - radius),\n\t            \"V -\" + OFFSET,\n\t            \"z\",\n\t        ].join(\" \");\n\t        // Ideally, it would be great to refactor these behavior into SVG elements.\n\t        // rect.setAttribute(\"width\", boxWidth.toString());\n\t        path.setAttribute(\"d\", pathD.toString());\n\t    });\n\t    observer.observe(tooltip, {\n\t        attributes: false,\n\t        subtree: false,\n\t        childList: true,\n\t    });\n\t    tooltip.appendChild(text);\n\t    return tooltip;\n\t}\n\n\tfunction createGitgraph(graphContainer, options) {\n\t    var commitsElements = {};\n\t    // Store a map to replace commits y with the correct value,\n\t    // including the message offset. Allows custom, flexible message height.\n\t    // E.g. {20: 30} means for commit: y=20 -> y=30\n\t    // Offset should be computed when graph is rendered (componentDidUpdate).\n\t    var commitYWithOffsets = {};\n\t    var shouldRecomputeOffsets = false;\n\t    var lastData;\n\t    var $commits;\n\t    var commitMessagesX = 0;\n\t    var $tooltip = null;\n\t    // Create an `svg` context in which we'll render the graph.\n\t    var svg = createSvg();\n\t    adaptSvgOnUpdate(Boolean(options && options.responsive));\n\t    graphContainer.appendChild(svg);\n\t    if (options && options.responsive) {\n\t        graphContainer.setAttribute(\"style\", \"display:inline-block; position: relative; width:100%; padding-bottom:100%; vertical-align:middle; overflow:hidden;\");\n\t    }\n\t    // React on gitgraph updates to re-render the graph.\n\t    var gitgraph = new lib_1(options);\n\t    gitgraph.subscribe(function (data) {\n\t        shouldRecomputeOffsets = true;\n\t        render(data);\n\t    });\n\t    // Return usable API for end-user.\n\t    return gitgraph.getUserApi();\n\t    function render(data) {\n\t        // Reset before new rendering to flush previous state.\n\t        commitsElements = {};\n\t        var commits = data.commits, branchesPaths = data.branchesPaths;\n\t        commitMessagesX = data.commitMessagesX;\n\t        // Store data so we can re-render after offsets are computed.\n\t        lastData = data;\n\t        // Store $commits so we can compute offsets from actual height.\n\t        $commits = renderCommits(commits);\n\t        // Reset SVG with new content.\n\t        svg.innerHTML = \"\";\n\t        svg.appendChild(createG({\n\t            // Translate graph left => left-most branch label is not cropped (horizontal)\n\t            // Translate graph down => top-most commit tooltip is not cropped\n\t            translate: { x: PADDING_X, y: PADDING },\n\t            children: [renderBranchesPaths(branchesPaths), $commits],\n\t        }));\n\t    }\n\t    function adaptSvgOnUpdate(adaptToContainer) {\n\t        var observer = new MutationObserver(function () {\n\t            if (shouldRecomputeOffsets) {\n\t                shouldRecomputeOffsets = false;\n\t                computeOffsets();\n\t                render(lastData);\n\t            }\n\t            else {\n\t                positionCommitsElements();\n\t                adaptGraphDimensions(adaptToContainer);\n\t            }\n\t        });\n\t        observer.observe(svg, {\n\t            attributes: false,\n\t            // Listen to subtree changes to react when we append the tooltip.\n\t            subtree: true,\n\t            childList: true,\n\t        });\n\t        function computeOffsets() {\n\t            var commits = Array.from($commits.children);\n\t            var totalOffsetY = 0;\n\t            // In VerticalReverse orientation, commits are in the same order in the DOM.\n\t            var orientedCommits = gitgraph.orientation === lib_12.VerticalReverse\n\t                ? commits\n\t                : commits.reverse();\n\t            commitYWithOffsets = orientedCommits.reduce(function (newOffsets, commit) {\n\t                var commitY = parseInt(commit.getAttribute(\"transform\").split(\",\")[1].slice(0, -1), 10);\n\t                var firstForeignObject = commit.getElementsByTagName(\"foreignObject\")[0];\n\t                var customHtmlMessage = firstForeignObject && firstForeignObject.firstElementChild;\n\t                newOffsets[commitY] = commitY + totalOffsetY;\n\t                // Increment total offset after setting the offset\n\t                // => offset next commits accordingly.\n\t                totalOffsetY += getMessageHeight(customHtmlMessage);\n\t                return newOffsets;\n\t            }, {});\n\t        }\n\t        function positionCommitsElements() {\n\t            if (gitgraph.isHorizontal) {\n\t                // Elements don't appear on horizontal mode, yet.\n\t                return;\n\t            }\n\t            var padding = 10;\n\t            // Ensure commits elements (branch labels, message…) are well positionned.\n\t            // It can't be done at render time since elements size is dynamic.\n\t            Object.keys(commitsElements).forEach(function (commitHash) {\n\t                var _a = commitsElements[commitHash], branchLabel = _a.branchLabel, tags = _a.tags, message = _a.message;\n\t                // We'll store X position progressively and translate elements.\n\t                var x = commitMessagesX;\n\t                if (branchLabel) {\n\t                    moveElement(branchLabel, x);\n\t                    // BBox width misses box padding\n\t                    // => they are set later, on branch label update.\n\t                    // We would need to make branch label update happen before to solve it.\n\t                    var branchLabelWidth = branchLabel.getBBox().width + 2 * PADDING_X;\n\t                    x += branchLabelWidth + padding;\n\t                }\n\t                tags.forEach(function (tag) {\n\t                    moveElement(tag, x);\n\t                    // BBox width misses box padding and offset\n\t                    // => they are set later, on tag update.\n\t                    // We would need to make tag update happen before to solve it.\n\t                    var offset = parseFloat(tag.getAttribute(\"data-offset\") || \"0\");\n\t                    var tagWidth = tag.getBBox().width + 2 * PADDING_X$1 + offset;\n\t                    x += tagWidth + padding;\n\t                });\n\t                if (message) {\n\t                    moveElement(message, x);\n\t                }\n\t            });\n\t        }\n\t        function adaptGraphDimensions(adaptToContainer) {\n\t            var _a = svg.getBBox(), height = _a.height, width = _a.width;\n\t            // FIXME: In horizontal mode, we mimic @gitgraph/react behavior\n\t            // => it gets re-rendered after offsets are computed\n\t            // => it applies paddings twice!\n\t            //\n\t            // It works… by chance. Technically, we should compute what would\n\t            // *actually* go beyond the computed limits of the graph.\n\t            var horizontalCustomOffset = 50;\n\t            var verticalCustomOffset = 20;\n\t            var widthOffset = gitgraph.isHorizontal\n\t                ? horizontalCustomOffset\n\t                : // Add `TOOLTIP_PADDING` so we don't crop the tooltip text.\n\t                    // Add `BRANCH_LABEL_PADDING_X` so we don't cut branch label.\n\t                    PADDING_X + PADDING;\n\t            var heightOffset = gitgraph.isHorizontal\n\t                ? horizontalCustomOffset\n\t                : // Add `TOOLTIP_PADDING` so we don't crop tooltip text\n\t                    // Add `BRANCH_LABEL_PADDING_Y` so we don't crop branch label.\n\t                    PADDING_Y + PADDING + verticalCustomOffset;\n\t            if (adaptToContainer) {\n\t                svg.setAttribute(\"preserveAspectRatio\", \"xMinYMin meet\");\n\t                svg.setAttribute(\"viewBox\", \"0 0 \" + (width + widthOffset) + \" \" + (height + heightOffset));\n\t            }\n\t            else {\n\t                svg.setAttribute(\"width\", (width + widthOffset).toString());\n\t                svg.setAttribute(\"height\", (height + heightOffset).toString());\n\t            }\n\t        }\n\t    }\n\t    function moveElement(target, x) {\n\t        var transform = target.getAttribute(\"transform\") || \"translate(0, 0)\";\n\t        target.setAttribute(\"transform\", transform.replace(/translate\\(([\\d\\.]+),/, \"translate(\" + x + \",\"));\n\t    }\n\t    function renderBranchesPaths(branchesPaths) {\n\t        var offset = gitgraph.template.commit.dot.size;\n\t        var isBezier = gitgraph.template.branch.mergeStyle === lib_9.Bezier;\n\t        var paths = Array.from(branchesPaths).map(function (_a) {\n\t            var branch = _a[0], coordinates = _a[1];\n\t            return createPath({\n\t                d: lib_13(coordinates.map(function (coordinate) { return coordinate.map(getWithCommitOffset); }), isBezier, gitgraph.isVertical),\n\t                fill: \"none\",\n\t                stroke: branch.computedColor || \"\",\n\t                strokeWidth: branch.style.lineWidth,\n\t                translate: {\n\t                    x: offset,\n\t                    y: offset,\n\t                },\n\t            });\n\t        });\n\t        return createG({ children: paths });\n\t    }\n\t    function renderCommits(commits) {\n\t        return createG({ children: commits.map(renderCommit) });\n\t        function renderCommit(commit) {\n\t            var _a = getWithCommitOffset(commit), x = _a.x, y = _a.y;\n\t            return createG({\n\t                translate: { x: x, y: y },\n\t                children: [\n\t                    renderDot(commit)\n\t                ].concat(renderArrows(commit), [\n\t                    createG({\n\t                        translate: { x: -x, y: 0 },\n\t                        children: [\n\t                            renderMessage(commit)\n\t                        ].concat(renderBranchLabels(commit), renderTags(commit)),\n\t                    }),\n\t                ]),\n\t            });\n\t        }\n\t        function renderArrows(commit) {\n\t            if (!gitgraph.template.arrow.size) {\n\t                return [null];\n\t            }\n\t            var commitRadius = commit.style.dot.size;\n\t            return commit.parents.map(function (parentHash) {\n\t                var parent = commits.find(function (_a) {\n\t                    var hash = _a.hash;\n\t                    return hash === parentHash;\n\t                });\n\t                if (!parent)\n\t                    return null;\n\t                // Starting point, relative to commit\n\t                var origin = gitgraph.reverseArrow\n\t                    ? {\n\t                        x: commitRadius + (parent.x - commit.x),\n\t                        y: commitRadius + (parent.y - commit.y),\n\t                    }\n\t                    : { x: commitRadius, y: commitRadius };\n\t                var path = createPath({\n\t                    d: lib_14(gitgraph, parent, commit),\n\t                    fill: gitgraph.template.arrow.color || \"\",\n\t                });\n\t                return createG({ translate: origin, children: [path] });\n\t            });\n\t        }\n\t    }\n\t    function renderMessage(commit) {\n\t        if (!commit.style.message.display) {\n\t            return null;\n\t        }\n\t        var message;\n\t        if (commit.renderMessage) {\n\t            message = createG({ children: [] });\n\t            // Add message after observer is set up => react based on body height.\n\t            // We might refactor it by including `onChildrenUpdate()` to `createG()`.\n\t            adaptMessageBodyHeight(message);\n\t            message.appendChild(commit.renderMessage(commit));\n\t            setMessageRef(commit, message);\n\t            return message;\n\t        }\n\t        var text = createText({\n\t            content: commit.message,\n\t            fill: commit.style.message.color || \"\",\n\t            font: commit.style.message.font,\n\t            onClick: commit.onMessageClick,\n\t        });\n\t        message = createG({\n\t            translate: { x: 0, y: commit.style.dot.size },\n\t            children: [text],\n\t        });\n\t        if (commit.body) {\n\t            var body = createForeignObject({\n\t                width: 600,\n\t                translate: { x: 10, y: 0 },\n\t                content: commit.body,\n\t            });\n\t            // Add message after observer is set up => react based on body height.\n\t            // We might refactor it by including `onChildrenUpdate()` to `createG()`.\n\t            adaptMessageBodyHeight(message);\n\t            message.appendChild(body);\n\t        }\n\t        setMessageRef(commit, message);\n\t        return message;\n\t    }\n\t    function adaptMessageBodyHeight(message) {\n\t        var observer = new MutationObserver(function (mutations) {\n\t            mutations.forEach(function (_a) {\n\t                var target = _a.target;\n\t                return setChildrenForeignObjectHeight(target);\n\t            });\n\t        });\n\t        observer.observe(message, {\n\t            attributes: false,\n\t            subtree: false,\n\t            childList: true,\n\t        });\n\t        function setChildrenForeignObjectHeight(node) {\n\t            if (node.nodeName === \"foreignObject\") {\n\t                // We have to access the first child's parentElement to retrieve\n\t                // the Element instead of the Node => we can compute dimensions.\n\t                var foreignObject = node.firstChild && node.firstChild.parentElement;\n\t                if (!foreignObject)\n\t                    return;\n\t                // Force the height of the foreignObject (browser issue)\n\t                foreignObject.setAttribute(\"height\", getMessageHeight(foreignObject.firstElementChild).toString());\n\t            }\n\t            node.childNodes.forEach(setChildrenForeignObjectHeight);\n\t        }\n\t    }\n\t    function renderBranchLabels(commit) {\n\t        // @gitgraph/core could compute branch labels into commits directly.\n\t        // That will make it easier to retrieve them, just like tags.\n\t        var branches = Array.from(gitgraph.branches.values());\n\t        return branches.map(function (branch) {\n\t            if (!branch.style.label.display)\n\t                return null;\n\t            if (!gitgraph.branchLabelOnEveryCommit) {\n\t                var commitHash = gitgraph.refs.getCommit(branch.name);\n\t                if (commit.hash !== commitHash)\n\t                    return null;\n\t            }\n\t            // For the moment, we don't handle multiple branch labels.\n\t            // To do so, we'd need to reposition each of them appropriately.\n\t            if (commit.branchToDisplay !== branch.name)\n\t                return null;\n\t            var branchLabel = branch.renderLabel\n\t                ? branch.renderLabel(branch)\n\t                : createBranchLabel(branch, commit);\n\t            var branchLabelContainer;\n\t            if (gitgraph.isVertical) {\n\t                branchLabelContainer = createG({\n\t                    children: [branchLabel],\n\t                });\n\t            }\n\t            else {\n\t                var commitDotSize = commit.style.dot.size * 2;\n\t                var horizontalMarginTop = 10;\n\t                branchLabelContainer = createG({\n\t                    translate: { x: commit.x, y: commitDotSize + horizontalMarginTop },\n\t                    children: [branchLabel],\n\t                });\n\t            }\n\t            setBranchLabelRef(commit, branchLabelContainer);\n\t            return branchLabelContainer;\n\t        });\n\t    }\n\t    function renderTags(commit) {\n\t        if (!commit.tags)\n\t            return [];\n\t        if (gitgraph.isHorizontal)\n\t            return [];\n\t        return commit.tags.map(function (tag) {\n\t            var tagElement = tag.render\n\t                ? tag.render(tag.name, tag.style)\n\t                : createTag(tag);\n\t            var tagContainer = createG({\n\t                translate: { x: 0, y: commit.style.dot.size },\n\t                children: [tagElement],\n\t            });\n\t            // `data-offset` is used to position tag element in `positionCommitsElements`.\n\t            // => because when it's executed, tag offsets are not resolved yet\n\t            tagContainer.setAttribute(\"data-offset\", tag.style.pointerWidth.toString());\n\t            setTagRef(commit, tagContainer);\n\t            return tagContainer;\n\t        });\n\t    }\n\t    function renderDot(commit) {\n\t        if (commit.renderDot) {\n\t            return commit.renderDot(commit);\n\t        }\n\t        /*\n\t        In order to handle strokes, we need to do some complex stuff here… 😅\n\t    \n\t        Problem: strokes are drawn inside & outside the circle.\n\t        But we want the stroke to be drawn inside only!\n\t    \n\t        The outside overlaps with other elements, as we expect the dot to have a fixed size. So we want to crop the outside part.\n\t    \n\t        Solution:\n\t        1. Create the circle in a <defs>\n\t        2. Define a clip path that references the circle\n\t        3. Use the clip path, adding the stroke.\n\t        4. Double stroke width as half of it will be clipped (the outside part).\n\t    \n\t        Ref.: https://stackoverflow.com/a/32162431/3911841\n\t    \n\t        P.S. there is a proposal for a stroke-alignment property,\n\t        but it's still a W3C Draft ¯\\_(ツ)_/¯\n\t        https://svgwg.org/specs/strokes/#SpecifyingStrokeAlignment\n\t      */\n\t        var circleId = commit.hash;\n\t        var circle = createCircle({\n\t            id: circleId,\n\t            radius: commit.style.dot.size,\n\t            fill: commit.style.dot.color || \"\",\n\t        });\n\t        var clipPathId = \"clip-\" + commit.hash;\n\t        var circleClipPath = createClipPath();\n\t        circleClipPath.setAttribute(\"id\", clipPathId);\n\t        circleClipPath.appendChild(createUse(circleId));\n\t        var useCirclePath = createUse(circleId);\n\t        useCirclePath.setAttribute(\"clip-path\", \"url(#\" + clipPathId + \")\");\n\t        useCirclePath.setAttribute(\"stroke\", commit.style.dot.strokeColor || \"\");\n\t        var strokeWidth = commit.style.dot.strokeWidth\n\t            ? commit.style.dot.strokeWidth * 2\n\t            : 0;\n\t        useCirclePath.setAttribute(\"stroke-width\", strokeWidth.toString());\n\t        var dotText = commit.dotText\n\t            ? createText({\n\t                content: commit.dotText,\n\t                font: commit.style.dot.font,\n\t                anchor: \"middle\",\n\t                translate: { x: commit.style.dot.size, y: commit.style.dot.size },\n\t            })\n\t            : null;\n\t        return createG({\n\t            onClick: commit.onClick,\n\t            onMouseOver: function () {\n\t                appendTooltipToGraph(commit);\n\t                commit.onMouseOver();\n\t            },\n\t            onMouseOut: function () {\n\t                if ($tooltip)\n\t                    $tooltip.remove();\n\t                commit.onMouseOut();\n\t            },\n\t            children: [createDefs([circle, circleClipPath]), useCirclePath, dotText],\n\t        });\n\t    }\n\t    function appendTooltipToGraph(commit) {\n\t        if (!svg.firstChild)\n\t            return;\n\t        if (gitgraph.isVertical && gitgraph.mode !== lib_2.Compact)\n\t            return;\n\t        if (gitgraph.isVertical && !commit.style.hasTooltipInCompactMode)\n\t            return;\n\t        var tooltip = commit.renderTooltip\n\t            ? commit.renderTooltip(commit)\n\t            : createTooltip(commit);\n\t        $tooltip = createG({\n\t            translate: getWithCommitOffset(commit),\n\t            children: [tooltip],\n\t        });\n\t        svg.firstChild.appendChild($tooltip);\n\t    }\n\t    function getWithCommitOffset(_a) {\n\t        var x = _a.x, y = _a.y;\n\t        return { x: x, y: commitYWithOffsets[y] || y };\n\t    }\n\t    function setBranchLabelRef(commit, branchLabels) {\n\t        if (!commitsElements[commit.hashAbbrev]) {\n\t            initCommitElements(commit);\n\t        }\n\t        commitsElements[commit.hashAbbrev].branchLabel = branchLabels;\n\t    }\n\t    function setMessageRef(commit, message) {\n\t        if (!commitsElements[commit.hashAbbrev]) {\n\t            initCommitElements(commit);\n\t        }\n\t        commitsElements[commit.hashAbbrev].message = message;\n\t    }\n\t    function setTagRef(commit, tag) {\n\t        if (!commitsElements[commit.hashAbbrev]) {\n\t            initCommitElements(commit);\n\t        }\n\t        commitsElements[commit.hashAbbrev].tags.push(tag);\n\t    }\n\t    function initCommitElements(commit) {\n\t        commitsElements[commit.hashAbbrev] = {\n\t            branchLabel: null,\n\t            tags: [],\n\t            message: null,\n\t        };\n\t    }\n\t}\n\tfunction getMessageHeight(message) {\n\t    var messageHeight = 0;\n\t    if (message) {\n\t        var height = message.getBoundingClientRect().height;\n\t        var marginTopInPx = window.getComputedStyle(message).marginTop || \"0px\";\n\t        var marginTop = parseInt(marginTopInPx.replace(\"px\", \"\"), 10);\n\t        messageHeight = height + marginTop;\n\t    }\n\t    return messageHeight;\n\t}\n\n\texports.MergeStyle = lib_9;\n\texports.Mode = lib_2;\n\texports.Orientation = lib_12;\n\texports.TemplateName = lib_10;\n\texports.createGitgraph = createGitgraph;\n\texports.templateExtend = lib_11;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), ':list='].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), ':list=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","const getFullWidth = (elem) => Math.max(elem.offsetWidth, elem.scrollWidth);\nconst getFullHeight = (elem) => Math.max(elem.offsetHeight, elem.scrollHeight);\n\nconst textNodeFromPoint = (element, x, y) => {\n    const nodes = element.childNodes;\n    const range = document.createRange();\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node.nodeType !== 3) {\n            continue;\n        }\n        range.selectNodeContents(node);\n        const rect = range.getBoundingClientRect();\n        if (x >= rect.left && y >= rect.top && x <= rect.right && y <= rect.bottom) {\n            return node;\n        }\n    }\n    return false;\n};\n\nconst clearTextSelection = () => {\n    const selection = window.getSelection ? window.getSelection() : document.selection;\n    if (!selection) {\n        return;\n    }\n    if (selection.removeAllRanges) {\n        selection.removeAllRanges();\n    } else if (selection.empty) {\n        selection.empty();\n    }\n};\n\nconst CLICK_EVENT_THRESHOLD_PX = 5;\n\nexport default class ScrollBooster {\n    /**\n     * Create ScrollBooster instance\n     * @param {Object} options - options object\n     * @param {Element} options.viewport - container element\n     * @param {Element} options.content - scrollable content element\n     * @param {String} options.direction - scroll direction\n     * @param {String} options.pointerMode - mouse or touch support\n     * @param {String} options.scrollMode - predefined scrolling technique\n     * @param {Boolean} options.bounce - bounce effect\n     * @param {Number} options.bounceForce - bounce effect factor\n     * @param {Number} options.friction - scroll friction factor\n     * @param {Boolean} options.textSelection - enables text selection\n     * @param {Boolean} options.inputsFocus - enables focus on input elements\n     * @param {Boolean} options.emulateScroll - enables mousewheel emulation\n     * @param {Function} options.onClick - click handler\n     * @param {Function} options.onUpdate - state update handler\n     * @param {Function} options.onWheel - wheel handler\n     * @param {Function} options.shouldScroll - predicate to allow or disable scroll\n     */\n    constructor(options = {}) {\n        const defaults = {\n            content: options.viewport.children[0],\n            direction: 'all', // 'vertical', 'horizontal'\n            pointerMode: 'all', // 'touch', 'mouse'\n            scrollMode: undefined, // 'transform', 'native'\n            bounce: true,\n            bounceForce: 0.1,\n            friction: 0.05,\n            textSelection: false,\n            inputsFocus: true,\n            emulateScroll: false,\n            preventDefaultOnEmulateScroll: false, // 'vertical', 'horizontal'\n            preventPointerMoveDefault: true,\n            lockScrollOnDragDirection: false, // 'vertical', 'horizontal', 'all'\n            pointerDownPreventDefault: true,\n            dragDirectionTolerance: 40,\n            onPointerDown() {},\n            onPointerUp() {},\n            onPointerMove() {},\n            onClick() {},\n            onUpdate() {},\n            onWheel() {},\n            shouldScroll() {\n                return true;\n            },\n        };\n\n        this.props = { ...defaults, ...options };\n\n        if (!this.props.viewport || !(this.props.viewport instanceof Element)) {\n            console.error(`ScrollBooster init error: \"viewport\" config property must be present and must be Element`);\n            return;\n        }\n\n        if (!this.props.content) {\n            console.error(`ScrollBooster init error: Viewport does not have any content`);\n            return;\n        }\n\n        this.isDragging = false;\n        this.isTargetScroll = false;\n        this.isScrolling = false;\n        this.isRunning = false;\n\n        const START_COORDINATES = { x: 0, y: 0 };\n\n        this.position = { ...START_COORDINATES };\n        this.velocity = { ...START_COORDINATES };\n        this.dragStartPosition = { ...START_COORDINATES };\n        this.dragOffset = { ...START_COORDINATES };\n        this.clientOffset = { ...START_COORDINATES };\n        this.dragPosition = { ...START_COORDINATES };\n        this.targetPosition = { ...START_COORDINATES };\n        this.scrollOffset = { ...START_COORDINATES };\n\n        this.rafID = null;\n        this.events = {};\n\n        this.updateMetrics();\n        this.handleEvents();\n    }\n\n    /**\n     * Update options object with new given values\n     */\n    updateOptions(options = {}) {\n        this.props = { ...this.props, ...options };\n        this.props.onUpdate(this.getState());\n        this.startAnimationLoop();\n    }\n\n    /**\n     * Update DOM container elements metrics (width and height)\n     */\n    updateMetrics() {\n        this.viewport = {\n            width: this.props.viewport.clientWidth,\n            height: this.props.viewport.clientHeight,\n        };\n        this.content = {\n            width: getFullWidth(this.props.content),\n            height: getFullHeight(this.props.content),\n        };\n        this.edgeX = {\n            from: Math.min(-this.content.width + this.viewport.width, 0),\n            to: 0,\n        };\n        this.edgeY = {\n            from: Math.min(-this.content.height + this.viewport.height, 0),\n            to: 0,\n        };\n\n        this.props.onUpdate(this.getState());\n        this.startAnimationLoop();\n    }\n\n    /**\n     * Run animation loop\n     */\n    startAnimationLoop() {\n        this.isRunning = true;\n        cancelAnimationFrame(this.rafID);\n        this.rafID = requestAnimationFrame(() => this.animate());\n    }\n\n    /**\n     * Main animation loop\n     */\n    animate() {\n        if (!this.isRunning) {\n            return;\n        }\n        this.updateScrollPosition();\n        // stop animation loop if nothing moves\n        if (!this.isMoving()) {\n            this.isRunning = false;\n            this.isTargetScroll = false;\n        }\n        const state = this.getState();\n        this.setContentPosition(state);\n        this.props.onUpdate(state);\n        this.rafID = requestAnimationFrame(() => this.animate());\n    }\n\n    /**\n     * Calculate and set new scroll position\n     */\n    updateScrollPosition() {\n        this.applyEdgeForce();\n        this.applyDragForce();\n        this.applyScrollForce();\n        this.applyTargetForce();\n\n        const inverseFriction = 1 - this.props.friction;\n        this.velocity.x *= inverseFriction;\n        this.velocity.y *= inverseFriction;\n\n        if (this.props.direction !== 'vertical') {\n            this.position.x += this.velocity.x;\n        }\n        if (this.props.direction !== 'horizontal') {\n            this.position.y += this.velocity.y;\n        }\n\n        // disable bounce effect\n        if ((!this.props.bounce || this.isScrolling) && !this.isTargetScroll) {\n            this.position.x = Math.max(Math.min(this.position.x, this.edgeX.to), this.edgeX.from);\n            this.position.y = Math.max(Math.min(this.position.y, this.edgeY.to), this.edgeY.from);\n        }\n    }\n\n    /**\n     * Increase general scroll velocity by given force amount\n     */\n    applyForce(force) {\n        this.velocity.x += force.x;\n        this.velocity.y += force.y;\n    }\n\n    /**\n     * Apply force for bounce effect\n     */\n    applyEdgeForce() {\n        if (!this.props.bounce || this.isDragging) {\n            return;\n        }\n\n        // scrolled past viewport edges\n        const beyondXFrom = this.position.x < this.edgeX.from;\n        const beyondXTo = this.position.x > this.edgeX.to;\n        const beyondYFrom = this.position.y < this.edgeY.from;\n        const beyondYTo = this.position.y > this.edgeY.to;\n        const beyondX = beyondXFrom || beyondXTo;\n        const beyondY = beyondYFrom || beyondYTo;\n\n        if (!beyondX && !beyondY) {\n            return;\n        }\n\n        const edge = {\n            x: beyondXFrom ? this.edgeX.from : this.edgeX.to,\n            y: beyondYFrom ? this.edgeY.from : this.edgeY.to,\n        };\n\n        const distanceToEdge = {\n            x: edge.x - this.position.x,\n            y: edge.y - this.position.y,\n        };\n\n        const force = {\n            x: distanceToEdge.x * this.props.bounceForce,\n            y: distanceToEdge.y * this.props.bounceForce,\n        };\n\n        const restPosition = {\n            x: this.position.x + (this.velocity.x + force.x) / this.props.friction,\n            y: this.position.y + (this.velocity.y + force.y) / this.props.friction,\n        };\n\n        if ((beyondXFrom && restPosition.x >= this.edgeX.from) || (beyondXTo && restPosition.x <= this.edgeX.to)) {\n            force.x = distanceToEdge.x * this.props.bounceForce - this.velocity.x;\n        }\n\n        if ((beyondYFrom && restPosition.y >= this.edgeY.from) || (beyondYTo && restPosition.y <= this.edgeY.to)) {\n            force.y = distanceToEdge.y * this.props.bounceForce - this.velocity.y;\n        }\n\n        this.applyForce({\n            x: beyondX ? force.x : 0,\n            y: beyondY ? force.y : 0,\n        });\n    }\n\n    /**\n     * Apply force to move content while dragging with mouse/touch\n     */\n    applyDragForce() {\n        if (!this.isDragging) {\n            return;\n        }\n\n        const dragVelocity = {\n            x: this.dragPosition.x - this.position.x,\n            y: this.dragPosition.y - this.position.y,\n        };\n\n        this.applyForce({\n            x: dragVelocity.x - this.velocity.x,\n            y: dragVelocity.y - this.velocity.y,\n        });\n    }\n\n    /**\n     * Apply force to emulate mouse wheel or trackpad\n     */\n    applyScrollForce() {\n        if (!this.isScrolling) {\n            return;\n        }\n\n        this.applyForce({\n            x: this.scrollOffset.x - this.velocity.x,\n            y: this.scrollOffset.y - this.velocity.y,\n        });\n\n        this.scrollOffset.x = 0;\n        this.scrollOffset.y = 0;\n    }\n\n    /**\n     * Apply force to scroll to given target coordinate\n     */\n    applyTargetForce() {\n        if (!this.isTargetScroll) {\n            return;\n        }\n\n        this.applyForce({\n            x: (this.targetPosition.x - this.position.x) * 0.08 - this.velocity.x,\n            y: (this.targetPosition.y - this.position.y) * 0.08 - this.velocity.y,\n        });\n    }\n\n    /**\n     * Check if scrolling happening\n     */\n    isMoving() {\n        return (\n            this.isDragging ||\n            this.isScrolling ||\n            Math.abs(this.velocity.x) >= 0.01 ||\n            Math.abs(this.velocity.y) >= 0.01\n        );\n    }\n\n    /**\n     * Set scroll target coordinate for smooth scroll\n     */\n    scrollTo(position = {}) {\n        this.isTargetScroll = true;\n        this.targetPosition.x = -position.x || 0;\n        this.targetPosition.y = -position.y || 0;\n        this.startAnimationLoop();\n    }\n\n    /**\n     * Manual position setting\n     */\n    setPosition(position = {}) {\n        this.velocity.x = 0;\n        this.velocity.y = 0;\n        this.position.x = -position.x || 0;\n        this.position.y = -position.y || 0;\n        this.startAnimationLoop();\n    }\n\n    /**\n     * Get latest metrics and coordinates\n     */\n    getState() {\n        return {\n            isMoving: this.isMoving(),\n            isDragging: !!(this.dragOffset.x || this.dragOffset.y),\n            position: { x: -this.position.x, y: -this.position.y },\n            dragOffset: this.dragOffset,\n            dragAngle: this.getDragAngle(this.clientOffset.x, this.clientOffset.y),\n            borderCollision: {\n                left: this.position.x >= this.edgeX.to,\n                right: this.position.x <= this.edgeX.from,\n                top: this.position.y >= this.edgeY.to,\n                bottom: this.position.y <= this.edgeY.from,\n            },\n        };\n    }\n\n    /**\n     * Get drag angle (up: 180, left: -90, right: 90, down: 0)\n     */\n    getDragAngle(x, y) {\n        return Math.round(Math.atan2(x, y) * (180 / Math.PI));\n    }\n\n    /**\n     * Get drag direction (horizontal or vertical)\n     */\n    getDragDirection(angle, tolerance) {\n        const absAngle = Math.abs(90 - Math.abs(angle));\n\n        if (absAngle <= 90 - tolerance) {\n            return 'horizontal';\n        } else {\n            return 'vertical';\n        }\n    }\n\n    /**\n     * Update DOM container elements metrics (width and height)\n     */\n    setContentPosition(state) {\n        if (this.props.scrollMode === 'transform') {\n            this.props.content.style.transform = `translate(${-state.position.x}px, ${-state.position.y}px)`;\n        }\n        if (this.props.scrollMode === 'native') {\n            this.props.viewport.scrollTop = state.position.y;\n            this.props.viewport.scrollLeft = state.position.x;\n        }\n    }\n\n    /**\n     * Register all DOM events\n     */\n    handleEvents() {\n        const dragOrigin = { x: 0, y: 0 };\n        const clientOrigin = { x: 0, y: 0 };\n        let dragDirection = null;\n        let wheelTimer = null;\n        let isTouch = false;\n\n        const setDragPosition = (event) => {\n            if (!this.isDragging) {\n                return;\n            }\n\n            const eventData = isTouch ? event.touches[0] : event;\n            const { pageX, pageY, clientX, clientY } = eventData;\n\n            this.dragOffset.x = pageX - dragOrigin.x;\n            this.dragOffset.y = pageY - dragOrigin.y;\n\n            this.clientOffset.x = clientX - clientOrigin.x;\n            this.clientOffset.y = clientY - clientOrigin.y;\n\n            // get dragDirection if offset threshold is reached\n            if (\n                (Math.abs(this.clientOffset.x) > 5 && !dragDirection) ||\n                (Math.abs(this.clientOffset.y) > 5 && !dragDirection)\n            ) {\n                dragDirection = this.getDragDirection(\n                    this.getDragAngle(this.clientOffset.x, this.clientOffset.y),\n                    this.props.dragDirectionTolerance\n                );\n            }\n\n            // prevent scroll if not expected scroll direction\n            if (this.props.lockScrollOnDragDirection && this.props.lockScrollOnDragDirection !== 'all') {\n                if (dragDirection === this.props.lockScrollOnDragDirection && isTouch) {\n                    this.dragPosition.x = this.dragStartPosition.x + this.dragOffset.x;\n                    this.dragPosition.y = this.dragStartPosition.y + this.dragOffset.y;\n                } else if (!isTouch) {\n                    this.dragPosition.x = this.dragStartPosition.x + this.dragOffset.x;\n                    this.dragPosition.y = this.dragStartPosition.y + this.dragOffset.y;\n                } else {\n                    this.dragPosition.x = this.dragStartPosition.x;\n                    this.dragPosition.y = this.dragStartPosition.y;\n                }\n            } else {\n                this.dragPosition.x = this.dragStartPosition.x + this.dragOffset.x;\n                this.dragPosition.y = this.dragStartPosition.y + this.dragOffset.y;\n            }\n        };\n\n        this.events.pointerdown = (event) => {\n            isTouch = !!(event.touches && event.touches[0]);\n\n            this.props.onPointerDown(this.getState(), event, isTouch);\n\n            const eventData = isTouch ? event.touches[0] : event;\n            const { pageX, pageY, clientX, clientY } = eventData;\n\n            const { viewport } = this.props;\n            const rect = viewport.getBoundingClientRect();\n\n            // click on vertical scrollbar\n            if (clientX - rect.left >= viewport.clientLeft + viewport.clientWidth) {\n                return;\n            }\n\n            // click on horizontal scrollbar\n            if (clientY - rect.top >= viewport.clientTop + viewport.clientHeight) {\n                return;\n            }\n\n            // interaction disabled by user\n            if (!this.props.shouldScroll(this.getState(), event)) {\n                return;\n            }\n\n            // disable right mouse button scroll\n            if (event.button === 2) {\n                return;\n            }\n\n            // disable on mobile\n            if (this.props.pointerMode === 'mouse' && isTouch) {\n                return;\n            }\n\n            // disable on desktop\n            if (this.props.pointerMode === 'touch' && !isTouch) {\n                return;\n            }\n\n            // focus on form input elements\n            const formNodes = ['input', 'textarea', 'button', 'select', 'label'];\n            if (this.props.inputsFocus && formNodes.indexOf(event.target.nodeName.toLowerCase()) > -1) {\n                return;\n            }\n\n            // handle text selection\n            if (this.props.textSelection) {\n                const textNode = textNodeFromPoint(event.target, clientX, clientY);\n                if (textNode) {\n                    return;\n                }\n                clearTextSelection();\n            }\n\n            this.isDragging = true;\n\n            dragOrigin.x = pageX;\n            dragOrigin.y = pageY;\n\n            clientOrigin.x = clientX;\n            clientOrigin.y = clientY;\n\n            this.dragStartPosition.x = this.position.x;\n            this.dragStartPosition.y = this.position.y;\n\n            setDragPosition(event);\n            this.startAnimationLoop();\n\n            if (!isTouch && this.props.pointerDownPreventDefault) {\n                event.preventDefault();\n            }\n        };\n\n        this.events.pointermove = (event) => {\n            // prevent default scroll if scroll direction is locked\n            if (event.cancelable && (this.props.lockScrollOnDragDirection === 'all' ||\n                this.props.lockScrollOnDragDirection === dragDirection)) {\n                event.preventDefault();\n            }\n            setDragPosition(event);\n            this.props.onPointerMove(this.getState(), event, isTouch);\n        };\n\n        this.events.pointerup = (event) => {\n            this.isDragging = false;\n            dragDirection = null;\n            this.props.onPointerUp(this.getState(), event, isTouch);\n        };\n\n        this.events.wheel = (event) => {\n            const state = this.getState();\n            if (!this.props.emulateScroll) {\n                return;\n            }\n            this.velocity.x = 0;\n            this.velocity.y = 0;\n            this.isScrolling = true;\n\n            this.scrollOffset.x = -event.deltaX;\n            this.scrollOffset.y = -event.deltaY;\n\n            this.props.onWheel(state, event);\n\n            this.startAnimationLoop();\n\n            clearTimeout(wheelTimer);\n            wheelTimer = setTimeout(() => (this.isScrolling = false), 80);\n\n            // get (trackpad) scrollDirection and prevent default events\n            if (\n                this.props.preventDefaultOnEmulateScroll &&\n                this.getDragDirection(\n                    this.getDragAngle(-event.deltaX, -event.deltaY),\n                    this.props.dragDirectionTolerance\n                ) === this.props.preventDefaultOnEmulateScroll\n            ) {\n                event.preventDefault();\n            }\n        };\n\n        this.events.scroll = () => {\n            const { scrollLeft, scrollTop } = this.props.viewport;\n            if (Math.abs(this.position.x + scrollLeft) > 3) {\n                this.position.x = -scrollLeft;\n                this.velocity.x = 0;\n            }\n            if (Math.abs(this.position.y + scrollTop) > 3) {\n                this.position.y = -scrollTop;\n                this.velocity.y = 0;\n            }\n        };\n\n        this.events.click = (event) => {\n            const state = this.getState();\n            const dragOffsetX = this.props.direction !== 'vertical' ? state.dragOffset.x : 0;\n            const dragOffsetY = this.props.direction !== 'horizontal' ? state.dragOffset.y : 0;\n            if (Math.max(Math.abs(dragOffsetX), Math.abs(dragOffsetY)) > CLICK_EVENT_THRESHOLD_PX) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            this.props.onClick(state, event, isTouch);\n        };\n\n        this.events.contentLoad = () => this.updateMetrics();\n        this.events.resize = () => this.updateMetrics();\n\n        this.props.viewport.addEventListener('mousedown', this.events.pointerdown);\n        this.props.viewport.addEventListener('touchstart', this.events.pointerdown, { passive: false });\n        this.props.viewport.addEventListener('click', this.events.click);\n        this.props.viewport.addEventListener('wheel', this.events.wheel, { passive: false });\n        this.props.viewport.addEventListener('scroll', this.events.scroll);\n        this.props.content.addEventListener('load', this.events.contentLoad, true);\n        window.addEventListener('mousemove', this.events.pointermove);\n        window.addEventListener('touchmove', this.events.pointermove, { passive: false });\n        window.addEventListener('mouseup', this.events.pointerup);\n        window.addEventListener('touchend', this.events.pointerup);\n        window.addEventListener('resize', this.events.resize);\n    }\n\n    /**\n     * Unregister all DOM events\n     */\n    destroy() {\n        this.props.viewport.removeEventListener('mousedown', this.events.pointerdown);\n        this.props.viewport.removeEventListener('touchstart', this.events.pointerdown);\n        this.props.viewport.removeEventListener('click', this.events.click);\n        this.props.viewport.removeEventListener('wheel', this.events.wheel);\n        this.props.viewport.removeEventListener('scroll', this.events.scroll);\n        this.props.content.removeEventListener('load', this.events.contentLoad);\n        window.removeEventListener('mousemove', this.events.pointermove);\n        window.removeEventListener('touchmove', this.events.pointermove);\n        window.removeEventListener('mouseup', this.events.pointerup);\n        window.removeEventListener('touchend', this.events.pointerup);\n        window.removeEventListener('resize', this.events.resize);\n    }\n}\n","import {\n    createGitgraph,\n    templateExtend,\n    TemplateName,\n    Orientation,\n    Branch,\n    Mode,\n} from '@gitgraph/js';\nimport queryString from 'query-string';\nimport { Config } from './types';\nimport ScrollBooster from 'scrollbooster';\n\nconst colors: string[] = [\n    '#929292',\n    '#255db7',\n    '#f3a138',\n    '#bd461d',\n    '#419bb2',\n    '#ef754a',\n    '#f6bb3f',\n    '#53c1dd',\n];\nconst graphContainer = document.getElementById(\n    'graph-container'\n) as HTMLElement;\n\nlet commitNumber = 0;\nfunction compareBranchesOrder(a: Branch['name'], b: Branch['name']): number {\n    return config.branchesOrder!.indexOf(a) - config.branchesOrder!.indexOf(b);\n}\n\nconst template = templateExtend(TemplateName.Metro, {\n    colors,\n    commit: {\n        hasTooltipInCompactMode: false,\n        message: {\n            displayAuthor: false,\n        },\n        dot: {\n            font: '12px Arial',\n        },\n    },\n});\n\nfunction parseConfig(): Config {\n    const query = queryString.parse(location.search);\n    return {\n        showCommitNumber: 'commit_number' in query,\n        scrollable: 'scrollable' in query,\n        branchesOrder:\n            'branches_order' in query\n                ? (query['branches_order'] as string)?.split(',')\n                : undefined,\n        mode: query['mode'] as Mode | undefined,\n        orientation: query['orientation'] as Orientation | undefined,\n    };\n}\nconst config = parseConfig();\n\nif (config.scrollable) {\n    new ScrollBooster({\n        viewport: document.body,\n        scrollMode: 'transform',\n    });\n}\n\nconst gitgraph = createGitgraph(graphContainer, {\n    mode: config.mode,\n    compareBranchesOrder: config.branchesOrder\n        ? compareBranchesOrder\n        : undefined,\n    orientation: config.orientation,\n    template,\n});\n// @ts-ignore\nwindow['aa'] = gitgraph;\n\nconst branches: Map<string, Branch> = new Map();\nlet currentBranch: Branch | undefined;\n\natob(location.hash.substring(1))\n    .split('\\n')\n    .map((c) => c.trim())\n    .filter((c) => c.length > 0 && c[0] !== '#')\n    .forEach((command) => {\n        const [commandName, ...args] = command.split(' ');\n        switch (commandName) {\n            case 'checkout':\n                checkout(args);\n                break;\n            case 'commit':\n                commit(args);\n                break;\n            case 'merge':\n                merge(args[0]);\n                break;\n            default:\n                console.warn(`Unknown command: ${commandName}`);\n        }\n    });\n\nfunction checkout(branchNames: string[]) {\n    branchNames.forEach((branchName, index) => {\n        if (!branches.has(branchName)) {\n            branches.set(\n                branchName,\n                gitgraph.branch({\n                    name: branchName,\n                    from: currentBranch,\n                })\n            );\n        }\n\n        // checkout last branch\n        if (index == branchNames.length - 1) {\n            currentBranch = branches.get(branchName);\n        }\n    });\n}\n\nfunction commit(args: string[]) {\n    if (currentBranch) {\n        currentBranch.commit({\n            subject: args.join(' '),\n            dotText: config.showCommitNumber ? `C${commitNumber++}` : undefined,\n        });\n    }\n}\n\nfunction merge(sourceBranch: string) {\n    if (branches.has(sourceBranch)) {\n        currentBranch?.merge(branches.get(sourceBranch)!);\n    }\n}\n"],"names":["exports1","commonjsGlobal","globalThis","window","$parcel$global","self","unwrapExports","x","__esModule","Object","prototype","hasOwnProperty","call","createCommonjsModule","fn","module","exports","orientation","Orientation","defineProperty","value","utils","booleanOptionOr","defaultValue","numberOptionOr","pick","obj","paths","assign","reduce","mem","key","debug","commits","console","log","JSON","stringify","map","commit","isUndefined","undefined","withoutUndefinedKeys","keys","arrowSvgPath","graph","parent","commitRadius","style","dot","size","template","arrow","h","offset","delta","Math","PI","alpha","getAlpha","x1","cos","y1","sin","x2","y2","x3","y3","x4","y4","deltaX","deltaY","y","commitSpacing","spacing","alphaY","alphaX","Horizontal","HorizontalReverse","VerticalReverse","isVertical","abs","reverseArrow","atan2","template1","MergeStyle1","MergeStyle","DEFAULT_FONT","Template","constructor","options","branch","label","message","this","colors","color","lineWidth","mergeStyle","Bezier","display","strokeColor","bgColor","font","borderRadius","hasTooltipInCompactMode","strokeWidth","displayAuthor","displayHash","tag","blackArrowTemplate","Straight","metroTemplate","TemplateName1","TemplateName","templateExtend","selectedTemplate","getTemplate","BlackArrow","Metro","tag1","Tag","name","render","commitStyle","tagStyle","pointerWidth","commit1","getRandomHash","random","toString","substring","Commit","email","refs","author","match","e","timestamp","Date","now","committer","subject","body","hash","hashAbbrev","parents","parentsAbbrev","dotText","onClick","onMessageClick","onMouseOver","onMouseOut","renderDot","renderMessage","renderTooltip","branchToDisplay","branches","setRefs","getNames","setTags","tags","getTagStyle","getTagRender","setBranches","setPosition","withDefaultColor","newStyle","cloneCommit","branchUserApi","__rest","s","t","p","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","BranchUserApi","onGraphUpdate","_branch","_graph","_onGraphUpdate","args","isDeleted","_isReferenced","Error","from","createBranch","getUserApi","_commitWithParents","delete","getCommit","graph1","lookupCommit","commitHash","find","currentCommit","parentCommitHash","forEach","filter","branchName","branch1","createDeletedBranch","merge","isBranchMergeOptions","fastForward","commitOptions","branchLastCommitHash","canFastForward","lastCommitHash","_areCommitsConnected","_fastForwardTo","ref","checkout","target","headCommit","currentBranch","set","parentOnSameBranch","unshift","commit$1","generateCommitHash","commitDefaultOptions","commitMessage","_getCommitStyle","push","childCommitHash","childCommit","includes","some","directParentHash","shouldDisplayCommitMessage","has","hasName","allNames","DELETED_BRANCH_NAME","Branch","gitgraph","renderLabel","mode","Mode1","Mode","regular","RegularGraphRows","rows","Map","maxRowCache","computeRowsFromCommits","getRowOf","get","getMaxRow","uniq","Array","values","array","Set","add","compact","CompactGraphRows","newRow","parentRow","historyParent","max","graphRows","createGraphRows","mode$1","Compact","GraphRows","branchesOrder1","BranchesOrder","compareFunction","sort","findIndex","getColorOf","refs1","Refs","commitPerName","namesPerCommit","prevCommitHash","removeNameFrom","addNameTo","addCommitTo","getAllNames","hasCommit","nameToRemove","names","nameToAdd","prevNames","commitHashToAdd","branchesPaths1","BranchesPathsCalculator","isGraphVertical","isGraphReverse","branchesPaths","execute","fromCommits","withMergeCommits","smoothBranchesPaths","getDeletedBranchInPath","path","existingBranchPath","firstParentCommit","mergeCommit","parentOnOriginBranch","originBranchName","lastPoints","points","a","b","reverse","point","j","previousPoint","subPath","firstPoint","lastPoint","column","branchSize","round","branchPoints","fill","_","lastSubPaths","toSvgPath","coordinates","isBezier","previous","middleY","middleX","join","slice","gitgraphUserApi","GitgraphUserApi","clear","head","tagStyles","tagRenders","import","data","invalidData","isArray","every","commitOptionsList","TAG_PREFIX","split","startsWith","_getBranches","_withBranches","commitBranches","result","queue","currentHash","pop","current","prevBranches","gitgraph1","GitgraphCore","listeners","nextTimeoutId","initCommitOffsetX","initCommitOffsetY","branchesOrderFunction","compareBranchesOrder","branchLabelOnEveryCommit","isHorizontal","isReverse","next","subscribe","listener","isSubscribed","index","splice","getRenderedData","computeRenderedCommits","computeRenderedBranchesPaths","commitMessagesX","computeCommitMessagesX","computeBranchesColor","defaultParentBranchName","parentBranchName","branch$1","getBranches","reachableUnassociatedCommits","unassociatedCommits","tipsOfMergedBranches1","tipsOfMergedBranches","parentHash","reachableCommits","tip","commitsToRender","commitsWithBranches","withBranches","branchesOrder$1","withPosition","getBranchDefaultColor","computedColor","branchesOrder","row","maxRow","order","clearTimeout","setTimeout","lib","lib_1","lib_2","lib_9","lib_10","lib_11","lib_12","lib_13","lib_14","SVG_NAMESPACE","createSvg","svg","document","createElementNS","children","child","appendChild","viewBox","setAttribute","height","width","createG","g","translate","stroke","addEventListener","createText","text","textContent","content","anchor","createCircle","circle","radius","id","createRect","rect","createPath","d","createUse","href","use","setAttributeNS","createClipPath","createDefs","defs","createForeignObject","createElement","PADDING_X","PADDING_Y","createBranchLabel","branchLabel","MutationObserver","_a","getBBox","boxWidth","boxHeight","observe","attributes","subtree","childList","PADDING_X$1","PADDING_Y$1","createTag","pathD","PADDING","OFFSET","createTooltip","commitSize","tooltip","createGitgraph","graphContainer","lastData","$commits","commitsElements","commitYWithOffsets","shouldRecomputeOffsets","$tooltip","adaptSvgOnUpdate","Boolean","responsive","renderCommits","innerHTML","renderBranchesPaths","adaptToContainer1","computeOffsets","totalOffsetY","orientedCommits","newOffsets","commitY","parseInt","getAttribute","firstForeignObject","getElementsByTagName","customHtmlMessage","firstElementChild","getMessageHeight","positionCommitsElements","padding","moveElement","branchLabelWidth","parseFloat","tagWidth","adaptGraphDimensions","adaptToContainer","horizontalCustomOffset","verticalCustomOffset","widthOffset","heightOffset","transform","replace","coordinate","getWithCommitOffset","renderCommit","concat","renderArrows","renderBranchLabels","renderTags","adaptMessageBodyHeight","setMessageRef","setChildrenForeignObjectHeight","node","nodeName","foreignObject","firstChild","parentElement","childNodes","mutations","branchLabelContainer","commitDotSize","horizontalMarginTop","setBranchLabelRef","tagElement","tagContainer","setTagRef","circleId","clipPathId","circleClipPath","useCirclePath","appendTooltipToGraph","remove","branchLabels","initCommitElements","messageHeight","getBoundingClientRect","marginTopInPx","getComputedStyle","marginTop","factory","$29335486616e3c26$exports","$3ecb7368762fc268$export$f9380c9a627682d3","$3ecb7368762fc268$export$98e6a39c04603d36","$3ecb7368762fc268$export$fac44ee5b035f737","$3ecb7368762fc268$export$7a5253c0f62e0150","$3ecb7368762fc268$export$a8c1621ea79325d3","$3ecb7368762fc268$export$357523c63a2253b9","$3ecb7368762fc268$export$44c361b8ec72ef7f","$2854ab6fe5249e91$exports","str","encodeURIComponent","charCodeAt","toUpperCase","$40bbc24beab9f9b8$var$singleMatcher","RegExp","$40bbc24beab9f9b8$var$multiMatcher","$40bbc24beab9f9b8$var$decodeComponents","components","decodeURIComponent","err","left","right","$40bbc24beab9f9b8$var$decode","input","tokens","$40bbc24beab9f9b8$exports","encodedURI","TypeError","replaceMap","exec","entries","$40bbc24beab9f9b8$var$customDecodeURIComponent","$08bd16383ca1ef3d$exports","string","separator","separatorIndex","$36fe9d1ef26e3f64$exports","predicate","ret","isArr","val","$3ecb7368762fc268$var$encodeFragmentIdentifier","Symbol","$3ecb7368762fc268$var$validateArrayFormatSeparator","$3ecb7368762fc268$var$encode","encode","strict","$3ecb7368762fc268$var$decode","decode","$3ecb7368762fc268$var$keysSorter","Number","$3ecb7368762fc268$var$removeHash","hashStart","$3ecb7368762fc268$var$extract","queryStart","$3ecb7368762fc268$var$parseValue","parseNumbers","isNaN","trim","parseBooleans","toLowerCase","$3ecb7368762fc268$var$parse","query","arrayFormat","arrayFormatSeparator","formatter","accumulator","isEncodedArray","newValue","item","test","arrayValue","$3ecb7368762fc268$var$parserForArrayFormat","create","param","key1","k","object","skipNull","skipEmptyString","keyValueSep","$3ecb7368762fc268$var$encoderForArrayFormat","objectCopy","key2","url","url_","parseFragmentIdentifier","fragmentIdentifier","queryFromUrl","parsedQueryFromUrl","queryString","$3ecb7368762fc268$var$getHash","exclusionFilter","$0c7c20bec7de273c$var$getFullHeight","elem","offsetHeight","scrollHeight","$b4e14b6b8da86996$var$graphContainer","getElementById","$b4e14b6b8da86996$var$commitNumber","$b4e14b6b8da86996$var$template","$b4e14b6b8da86996$var$config","$parcel$interopDefault","$3ecb7368762fc268$exports","parse","location","search","showCommitNumber","scrollable","$b4e14b6b8da86996$var$parseConfig","defaults","viewport","direction","pointerMode","scrollMode","bounce","bounceForce","friction","textSelection","inputsFocus","emulateScroll","preventDefaultOnEmulateScroll","preventPointerMoveDefault","lockScrollOnDragDirection","pointerDownPreventDefault","dragDirectionTolerance","onPointerDown","onPointerUp","onPointerMove","onUpdate","onWheel","shouldScroll","props","Element","error","isDragging","isTargetScroll","isScrolling","isRunning","START_COORDINATES","position","velocity","dragStartPosition","dragOffset","clientOffset","dragPosition","targetPosition","scrollOffset","rafID","events","updateMetrics","handleEvents","updateOptions","getState","startAnimationLoop","clientWidth","clientHeight","offsetWidth","scrollWidth","edgeX","min","to","edgeY","cancelAnimationFrame","requestAnimationFrame","animate","updateScrollPosition","isMoving","state","setContentPosition","applyEdgeForce","applyDragForce","applyScrollForce","applyTargetForce","inverseFriction","applyForce","force","beyondXFrom","beyondXTo","beyondYFrom","beyondYTo","beyondX","beyondY","edge","distanceToEdge","restPosition","dragVelocity","scrollTo","dragAngle","getDragAngle","borderCollision","top","bottom","getDragDirection","angle","tolerance","scrollTop","scrollLeft","dragOrigin","clientOrigin","dragDirection","wheelTimer","isTouch","setDragPosition","event","eventData","touches","pageX","pageY","clientX","clientY","pointerdown","clientLeft","clientTop","button","textNode","element","nodes","range","createRange","nodeType","selectNodeContents","$0c7c20bec7de273c$var$textNodeFromPoint","selection","getSelection","removeAllRanges","empty","$0c7c20bec7de273c$var$clearTextSelection","preventDefault","pointermove","cancelable","pointerup","wheel","scroll","click","dragOffsetX","dragOffsetY","stopPropagation","contentLoad","resize","passive","destroy","removeEventListener","$b4e14b6b8da86996$var$gitgraph","$b4e14b6b8da86996$var$branches","$b4e14b6b8da86996$var$currentBranch","atob","c","command","commandName","branchNames","$b4e14b6b8da86996$var$commit","sourceBranch","warn"],"version":3,"file":"index.846a1066.js.map"}